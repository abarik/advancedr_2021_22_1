<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 4 Advanced data manipulation | Advanced R</title>
<meta name="author" content="Kálmán Abari">
<meta name="description" content="This chapter focuses exclusively on advanced data manipulation. I therefore assume a basic level of comfort with data manipulation.  4.1 Importing data Most of the data used for analysis is found...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 4 Advanced data manipulation | Advanced R">
<meta property="og:type" content="book">
<meta property="og:description" content="This chapter focuses exclusively on advanced data manipulation. I therefore assume a basic level of comfort with data manipulation.  4.1 Importing data Most of the data used for analysis is found...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 4 Advanced data manipulation | Advanced R">
<meta name="twitter:description" content="This chapter focuses exclusively on advanced data manipulation. I therefore assume a basic level of comfort with data manipulation.  4.1 Importing data Most of the data used for analysis is found...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet">
<script src="libs/str_view-binding-1.4.0/str_view.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Advanced R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="warm-up-exercise.html"><span class="header-section-number">2</span> Warm-up exercise</a></li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">3</span> RMarkdown</a></li>
<li><a class="active" href="advanced-data-manipulation.html"><span class="header-section-number">4</span> Advanced data manipulation</a></li>
<li><a class="" href="tidyverse-r.html"><span class="header-section-number">5</span> Tidyverse R</a></li>
<li><a class="" href="modern-graphics.html"><span class="header-section-number">6</span> Modern graphics</a></li>
<li><a class="" href="bioconductor.html"><span class="header-section-number">7</span> Bioconductor</a></li>
<li><a class="" href="rna-seq-an-example.html"><span class="header-section-number">8</span> RNA-Seq (an example)</a></li>
<li><a class="" href="summary.html"><span class="header-section-number">9</span> Summary</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/abarik/advancedr_2021_22_1">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="advanced-data-manipulation" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Advanced data manipulation<a class="anchor" aria-label="anchor" href="#advanced-data-manipulation"><i class="fas fa-link"></i></a>
</h1>
<p>This chapter focuses exclusively on advanced data manipulation. I therefore assume a basic level of comfort with data manipulation.</p>
<div id="br-import" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Importing data<a class="anchor" aria-label="anchor" href="#br-import"><i class="fas fa-link"></i></a>
</h2>
<p>Most of the data used for analysis is found in the outside world and needs to be imported into R. Data comes in different formats.</p>
<ul>
<li><p><strong>Delimited text files</strong> are the most common way of transferring data between systems in general. They are files that store tabular data using special characters (known as delimiters) to indicate rows and columns. These delimiters include commas, tabs, space, semicolons (;), pipes (|), etc. The function <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> is used to read delimited text files. It accepts as argument, the file path of the file and returns as output a data frame.</p></li>
<li><p><strong>Binary files</strong> are more complex than plain text files and accessing the information in binary files requires the use of special software. Some examples of binary files that we will frequently see include Microsoft Excel spreadsheets, SAS data sets, Stata data sets, and SPSS data set. The <strong>foreign</strong> package contains functions that may be used to import SAS data sets and Stata data sets, and is installed by default when you install R on your computer. We can use the <strong>readxl</strong> package to import Microsoft Excel files, and the <strong>haven</strong> package to import SAS and Stata data sets. We aren’t going to use these packages in this chapter. Instead, we’re going to use the best <strong>rio</strong> package to import data in the examples below.</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Description of gapminder:</span>
<span class="co"># help(gapminder, package = "gapminder")</span>

<span class="co"># importing the gapminder dataset - Delimited text files - ANSI (CP1250)</span>
<span class="va">gapminder_cp1250</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"data/gapminder_ext_CP1250.txt"</span>, header <span class="op">=</span> <span class="cn">T</span>, sep <span class="op">=</span> <span class="st">"\t"</span>, dec <span class="op">=</span> <span class="st">","</span>, quote <span class="op">=</span> <span class="st">"\""</span>, fileEncoding <span class="op">=</span> <span class="st">"latin2"</span><span class="op">)</span>

<span class="co"># importing the gapminder dataset - Delimited text files - UTF-8</span>
<span class="va">gapminder_utf8</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"data/gapminder_ext_UTF-8.txt"</span>, header <span class="op">=</span> <span class="cn">T</span>, sep <span class="op">=</span> <span class="st">"\t"</span>, dec <span class="op">=</span> <span class="st">","</span>, quote <span class="op">=</span> <span class="st">"\""</span>, fileEncoding <span class="op">=</span> <span class="st">"UTF-8"</span><span class="op">)</span>

<span class="co"># importing the gapminder dataset - Binary files</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leeper/rio">rio</a></span><span class="op">)</span>
<span class="va">gapminder_xlsx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"data/gapminder_ext.xlsx"</span><span class="op">)</span>

<span class="co"># checking class</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">)</span>
<span class="co">#&gt; [1] "data.frame"</span></code></pre></div>
<div id="import-files-directly-from-the-web" class="section level3" number="4.1.1">
<h3>
<span class="header-section-number">4.1.1</span> Import files directly from the web<a class="anchor" aria-label="anchor" href="#import-files-directly-from-the-web"><i class="fas fa-link"></i></a>
</h3>
<p>The functions <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> and <code><a href="https://rdrr.io/pkg/rio/man/import.html">rio::import()</a></code> accept a URL in the place of a dataset and downloads the dataset directly.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># NCHS - Death rates and life expectancy at birth: </span>
<span class="co"># https://data.cdc.gov/NCHS/NCHS-Death-rates-and-life-expectancy-at-birth/w9j2-ggv5</span>

<span class="co"># storing URL</span>
<span class="va">data_url</span> <span class="op">&lt;-</span> <span class="st">'https://data.cdc.gov/api/views/w9j2-ggv5/rows.csv?accessType=DOWNLOAD'</span>

<span class="co"># reading in data from the URL - Delimited text file</span>
<span class="va">life_expectancy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">data_url</span>, header <span class="op">=</span> <span class="cn">T</span>, sep <span class="op">=</span> <span class="st">","</span>, dec <span class="op">=</span> <span class="st">"."</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">life_expectancy</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;   Year      Race        Sex Average.Life.Expectancy..Years.</span>
<span class="co">#&gt; 1 1900 All Races Both Sexes                            47.3</span>
<span class="co">#&gt; 2 1901 All Races Both Sexes                            49.1</span>
<span class="co">#&gt; 3 1902 All Races Both Sexes                            51.5</span>
<span class="co">#&gt;   Age.adjusted.Death.Rate</span>
<span class="co">#&gt; 1                  2518.0</span>
<span class="co">#&gt; 2                  2473.1</span>
<span class="co">#&gt; 3                  2301.3</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">life_expectancy</span><span class="op">)</span>
<span class="co">#&gt; [1] 1071</span>


<span class="co"># Description of Potthoff-Roy data: </span>
<span class="co"># help(potthoffroy, package = "mice")</span>

<span class="co"># storing URL</span>
<span class="va">data_url</span> <span class="op">&lt;-</span> <span class="st">"https://raw.github.com/abarik/rdata/master/r_alapok/pothoff2.xlsx"</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leeper/rio">rio</a></span><span class="op">)</span>
<span class="va">pothoff</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">data_url</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">pothoff</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    108 obs. of  5 variables:</span>
<span class="co">#&gt;  $ person: num  1 1 1 1 2 2 2 2 3 3 ...</span>
<span class="co">#&gt;  $ sex   : chr  "F" "F" "F" "F" ...</span>
<span class="co">#&gt;  $ age   : num  8 10 12 14 8 10 12 14 8 10 ...</span>
<span class="co">#&gt;  $ y     : num  21 20 21.5 23 21 21.5 24 25.5 20.5 24 ...</span>
<span class="co">#&gt;  $ agefac: num  8 10 12 14 8 10 12 14 8 10 ...</span></code></pre></div>
</div>
</div>
<div id="br-export" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Exporting data<a class="anchor" aria-label="anchor" href="#br-export"><i class="fas fa-link"></i></a>
</h2>
<p>The function <code><a href="https://rdrr.io/r/utils/write.table.html">write.table()</a></code> are used to export data to delimited text file. The function <code><a href="https://rdrr.io/pkg/rio/man/export.html">rio::export()</a></code> is used to export data to worksheets in an Excel file (or other binary file). The type of the binary file will depend on the extension given to the file name.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># exporting the gapminder dataset - Delimited text files - ANSI (CP1250)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.table</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gapminder_xlsx</span>, file <span class="op">=</span> <span class="st">"output/data/gapminder_CP1250.csv"</span>, quote <span class="op">=</span> <span class="cn">F</span>, sep <span class="op">=</span> <span class="st">";"</span>, dec <span class="op">=</span> <span class="st">","</span>, row.names <span class="op">=</span> <span class="cn">F</span>, fileEncoding <span class="op">=</span> <span class="st">"latin2"</span><span class="op">)</span>

<span class="co"># exporting the gapminder dataset - Delimited text files - UTF-8</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.table</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gapminder_xlsx</span>, file <span class="op">=</span> <span class="st">"output/data/gapminder_UTF-8.csv"</span>, quote <span class="op">=</span> <span class="cn">F</span>, sep <span class="op">=</span> <span class="st">";"</span>, dec <span class="op">=</span> <span class="st">","</span>, row.names <span class="op">=</span> <span class="cn">F</span>, fileEncoding <span class="op">=</span> <span class="st">"UTF-8"</span><span class="op">)</span>

<span class="co"># exporting the gapminder dataset - Binary files</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leeper/rio">rio</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gapminder_xlsx</span>, file <span class="op">=</span> <span class="st">"output/data/gapminder.xlsx"</span>, overwrite <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gapminder_xlsx</span>, file <span class="op">=</span> <span class="st">"output/data/gapminder.sav"</span><span class="op">)</span></code></pre></div>
</div>
<div id="br-inspect" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Inspecting a data frame<a class="anchor" aria-label="anchor" href="#br-inspect"><i class="fas fa-link"></i></a>
</h2>
<p>We use the following functions to inspect a data frame:</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code> returns dimensions</li>
<li>
<code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code> returns number of rows</li>
<li>
<code><a href="https://rdrr.io/r/base/nrow.html">ncol()</a></code> returns number of columns</li>
<li>
<code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> returns column names and their data types plus some first few values</li>
<li>
<code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> returns the first six rows by default but can be changed using the argument <code>n</code>
</li>
<li>
<code><a href="https://rdrr.io/r/utils/head.html">tail()</a></code> returns the last six rows by default but can be changed using the argument <code>n</code>
</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">)</span>
<span class="co">#&gt; [1] 1704    8</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">)</span>
<span class="co">#&gt; [1] 1704</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">)</span>
<span class="co">#&gt; [1] 8</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1704 obs. of  8 variables:</span>
<span class="co">#&gt;  $ country      : chr  "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span>
<span class="co">#&gt;  $ continent    : chr  "Asia" "Asia" "Asia" "Asia" ...</span>
<span class="co">#&gt;  $ year         : num  1952 1957 1962 1967 1972 ...</span>
<span class="co">#&gt;  $ lifeExp      : num  28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ pop          : num  8425333 9240934 10267083 11537966 13079460 ...</span>
<span class="co">#&gt;  $ gdpPercap    : num  779 821 853 836 740 ...</span>
<span class="co">#&gt;  $ country_hun  : chr  "Afganisztán" "Afganisztán" "Afganisztán" "Afganisztán" ...</span>
<span class="co">#&gt;  $ continent_hun: chr  "Ázsia" "Ázsia" "Ázsia" "Ázsia" ...</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">)</span>
<span class="co">#&gt;       country continent year lifeExp      pop gdpPercap</span>
<span class="co">#&gt; 1 Afghanistan      Asia 1952  28.801  8425333  779.4453</span>
<span class="co">#&gt; 2 Afghanistan      Asia 1957  30.332  9240934  820.8530</span>
<span class="co">#&gt; 3 Afghanistan      Asia 1962  31.997 10267083  853.1007</span>
<span class="co">#&gt; 4 Afghanistan      Asia 1967  34.020 11537966  836.1971</span>
<span class="co">#&gt; 5 Afghanistan      Asia 1972  36.088 13079460  739.9811</span>
<span class="co">#&gt; 6 Afghanistan      Asia 1977  38.438 14880372  786.1134</span>
<span class="co">#&gt;   country_hun continent_hun</span>
<span class="co">#&gt; 1 Afganisztán         Ázsia</span>
<span class="co">#&gt; 2 Afganisztán         Ázsia</span>
<span class="co">#&gt; 3 Afganisztán         Ázsia</span>
<span class="co">#&gt; 4 Afganisztán         Ázsia</span>
<span class="co">#&gt; 5 Afganisztán         Ázsia</span>
<span class="co">#&gt; 6 Afganisztán         Ázsia</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span>, n <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt;       country continent year lifeExp      pop gdpPercap</span>
<span class="co">#&gt; 1701 Zimbabwe    Africa 1992  60.377 10704340  693.4208</span>
<span class="co">#&gt; 1702 Zimbabwe    Africa 1997  46.809 11404948  792.4500</span>
<span class="co">#&gt; 1703 Zimbabwe    Africa 2002  39.989 11926563  672.0386</span>
<span class="co">#&gt; 1704 Zimbabwe    Africa 2007  43.487 12311143  469.7093</span>
<span class="co">#&gt;      country_hun continent_hun</span>
<span class="co">#&gt; 1701    Zimbabwe        Afrika</span>
<span class="co">#&gt; 1702    Zimbabwe        Afrika</span>
<span class="co">#&gt; 1703    Zimbabwe        Afrika</span>
<span class="co">#&gt; 1704    Zimbabwe        Afrika</span></code></pre></div>
</div>
<div id="manipulating-columns" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Manipulating Columns<a class="anchor" aria-label="anchor" href="#manipulating-columns"><i class="fas fa-link"></i></a>
</h2>
<div id="changing-column-type" class="section level3" number="4.4.1">
<h3>
<span class="header-section-number">4.4.1</span> Changing column type<a class="anchor" aria-label="anchor" href="#changing-column-type"><i class="fas fa-link"></i></a>
</h3>
<p>After importing data, column types can be changed by assigning new data types to them.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1704 obs. of  8 variables:</span>
<span class="co">#&gt;  $ country      : chr  "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span>
<span class="co">#&gt;  $ continent    : chr  "Asia" "Asia" "Asia" "Asia" ...</span>
<span class="co">#&gt;  $ year         : num  1952 1957 1962 1967 1972 ...</span>
<span class="co">#&gt;  $ lifeExp      : num  28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ pop          : num  8425333 9240934 10267083 11537966 13079460 ...</span>
<span class="co">#&gt;  $ gdpPercap    : num  779 821 853 836 740 ...</span>
<span class="co">#&gt;  $ country_hun  : chr  "Afganisztán" "Afganisztán" "Afganisztán" "Afganisztán" ...</span>
<span class="co">#&gt;  $ continent_hun: chr  "Ázsia" "Ázsia" "Ázsia" "Ázsia" ...</span>

<span class="co"># changing column type</span>
<span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">country</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">country</span><span class="op">)</span>
<span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">continent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span>
<span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">country_hun</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">country_hun</span><span class="op">)</span>
<span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">continent_hun</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">continent_hun</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder_xlsx</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1704 obs. of  8 variables:</span>
<span class="co">#&gt;  $ country      : Factor w/ 142 levels "Afghanistan",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ continent    : Factor w/ 5 levels "Africa","Americas",..: 3 3 3 3 3 3 3 3 3 3 ...</span>
<span class="co">#&gt;  $ year         : num  1952 1957 1962 1967 1972 ...</span>
<span class="co">#&gt;  $ lifeExp      : num  28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ pop          : num  8425333 9240934 10267083 11537966 13079460 ...</span>
<span class="co">#&gt;  $ gdpPercap    : num  779 821 853 836 740 ...</span>
<span class="co">#&gt;  $ country_hun  : Factor w/ 142 levels "Afganisztán",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ continent_hun: Factor w/ 5 levels "Afrika","Amerika",..: 3 3 3 3 3 3 3 3 3 3 ...</span></code></pre></div>
</div>
<div id="br-col-names" class="section level3" number="4.4.2">
<h3>
<span class="header-section-number">4.4.2</span> Renaming columns<a class="anchor" aria-label="anchor" href="#br-col-names"><i class="fas fa-link"></i></a>
</h3>
<p>After importing data, columns can be renamed by assigning new names to them.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span>
<span class="co">#&gt; [1] "country"       "continent"     "year"         </span>
<span class="co">#&gt; [4] "lifeExp"       "pop"           "gdpPercap"    </span>
<span class="co">#&gt; [7] "country_hun"   "continent_hun"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"orszag"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"kontinens"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span>
<span class="co">#&gt; [1] "orszag"        "kontinens"     "year"         </span>
<span class="co">#&gt; [4] "lifeExp"       "pop"           "gdpPercap"    </span>
<span class="co">#&gt; [7] "country_hun"   "continent_hun"</span>

<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span>
<span class="co">#&gt; [1] "orszag"        "kontinens"     "year"         </span>
<span class="co">#&gt; [4] "lifeExp"       "pop"           "gdpPercap"    </span>
<span class="co">#&gt; [7] "country_hun"   "continent_hun"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span><span class="op">[</span><span class="fl">7</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"orszag_hun"</span>, <span class="st">"kontinens_hun"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span>
<span class="co">#&gt; [1] "orszag"        "kontinens"     "year"         </span>
<span class="co">#&gt; [4] "lifeExp"       "pop"           "gdpPercap"    </span>
<span class="co">#&gt; [7] "orszag_hun"    "kontinens_hun"</span></code></pre></div>
</div>
<div id="br-changing" class="section level3" number="4.4.3">
<h3>
<span class="header-section-number">4.4.3</span> Insert and derive new columns<a class="anchor" aria-label="anchor" href="#br-changing"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Here's a data set of 1,000 most popular movies on IMDB in the last 10 years. </span>
<span class="co"># https://www.kaggle.com/PromptCloudHQ/imdb-data/version/1</span>
<span class="va">mov</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"data/IMDB-Movie-Data.csv"</span>, header <span class="op">=</span> <span class="cn">T</span>, sep <span class="op">=</span> <span class="st">","</span>, dec <span class="op">=</span> <span class="st">"."</span>, fileEncoding <span class="op">=</span> <span class="st">"UTF-8"</span>, quote <span class="op">=</span> <span class="st">"\""</span>,
                  comment.char <span class="op">=</span> <span class="st">""</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">mov</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1000 obs. of  12 variables:</span>
<span class="co">#&gt;  $ Rank              : int  1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ Title             : chr  "Guardians of the Galaxy" "Prometheus" "Split" "Sing" ...</span>
<span class="co">#&gt;  $ Genre             : chr  "Action,Adventure,Sci-Fi" "Adventure,Mystery,Sci-Fi" "Horror,Thriller" "Animation,Comedy,Family" ...</span>
<span class="co">#&gt;  $ Description       : chr  "A group of intergalactic criminals are forced to work together to stop a fanatical warrior from taking control "| __truncated__ "Following clues to the origin of mankind, a team finds a structure on a distant moon, but they soon realize the"| __truncated__ "Three girls are kidnapped by a man with a diagnosed 23 distinct personalities. They must try to escape before t"| __truncated__ "In a city of humanoid animals, a hustling theater impresario's attempt to save his theater with a singing compe"| __truncated__ ...</span>
<span class="co">#&gt;  $ Director          : chr  "James Gunn" "Ridley Scott" "M. Night Shyamalan" "Christophe Lourdelet" ...</span>
<span class="co">#&gt;  $ Actors            : chr  "Chris Pratt, Vin Diesel, Bradley Cooper, Zoe Saldana" "Noomi Rapace, Logan Marshall-Green, Michael Fassbender, Charlize Theron" "James McAvoy, Anya Taylor-Joy, Haley Lu Richardson, Jessica Sula" "Matthew McConaughey,Reese Witherspoon, Seth MacFarlane, Scarlett Johansson" ...</span>
<span class="co">#&gt;  $ Year              : int  2014 2012 2016 2016 2016 2016 2016 2016 2016 2016 ...</span>
<span class="co">#&gt;  $ Runtime..Minutes. : int  121 124 117 108 123 103 128 89 141 116 ...</span>
<span class="co">#&gt;  $ Rating            : num  8.1 7 7.3 7.2 6.2 6.1 8.3 6.4 7.1 7 ...</span>
<span class="co">#&gt;  $ Votes             : int  757074 485820 157606 60545 393727 56036 258682 2490 7188 192177 ...</span>
<span class="co">#&gt;  $ Revenue..Millions.: num  333 126 138 270 325 ...</span>
<span class="co">#&gt;  $ Metascore         : int  76 65 62 59 40 42 93 71 78 41 ...</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">mov</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Rank'</span>, <span class="st">'Title'</span>, <span class="st">'Genre'</span>, <span class="st">'Description'</span>, <span class="st">'Director'</span>, <span class="st">'Actors'</span>, <span class="st">'Year'</span>, 
                <span class="st">'Runtime'</span>, <span class="st">'Rating'</span>, <span class="st">'Votes'</span>, <span class="st">'Revenue'</span>, <span class="st">'Metascore'</span><span class="op">)</span></code></pre></div>
<div id="inserting-a-new-column" class="section level4" number="4.4.3.1">
<h4>
<span class="header-section-number">4.4.3.1</span> Inserting a new column<a class="anchor" aria-label="anchor" href="#inserting-a-new-column"><i class="fas fa-link"></i></a>
</h4>
<p>To insert a new column, we index the data frame by the new column name and assign it values.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># adding a new column known as example</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Example</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                     Title Year Revenue Metascore Example</span>
<span class="co">#&gt; 1 Guardians of the Galaxy 2014  333.13        76     415</span>
<span class="co">#&gt; 2              Prometheus 2012  126.46        65     463</span>
<span class="co">#&gt; 3                   Split 2016  138.12        62     179</span>
<span class="co">#&gt; 4                    Sing 2016  270.32        59     526</span>
<span class="co">#&gt; 5           Suicide Squad 2016  325.02        40     195</span>
<span class="co">#&gt; 6          The Great Wall 2016   45.13        42     938</span></code></pre></div>
</div>
<div id="duplicating-a-column" class="section level4" number="4.4.3.2">
<h4>
<span class="header-section-number">4.4.3.2</span> Duplicating a column<a class="anchor" aria-label="anchor" href="#duplicating-a-column"><i class="fas fa-link"></i></a>
</h4>
<p>Duplicating a column is like inserting a new one. We simply select it and assign it a new name.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Metascore.2</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">$</span><span class="va">Metascore</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                     Title Year Revenue Metascore</span>
<span class="co">#&gt; 1 Guardians of the Galaxy 2014  333.13        76</span>
<span class="co">#&gt; 2              Prometheus 2012  126.46        65</span>
<span class="co">#&gt; 3                   Split 2016  138.12        62</span>
<span class="co">#&gt; 4                    Sing 2016  270.32        59</span>
<span class="co">#&gt; 5           Suicide Squad 2016  325.02        40</span>
<span class="co">#&gt; 6          The Great Wall 2016   45.13        42</span>
<span class="co">#&gt;   Metascore.2</span>
<span class="co">#&gt; 1          76</span>
<span class="co">#&gt; 2          65</span>
<span class="co">#&gt; 3          62</span>
<span class="co">#&gt; 4          59</span>
<span class="co">#&gt; 5          40</span>
<span class="co">#&gt; 6          42</span></code></pre></div>
</div>
<div id="deriving-a-new-column-from-an-existing-one" class="section level4" number="4.4.3.3">
<h4>
<span class="header-section-number">4.4.3.3</span> Deriving a new column from an existing one<a class="anchor" aria-label="anchor" href="#deriving-a-new-column-from-an-existing-one"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Movie.Class</span> <span class="op">&lt;-</span> 
<span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Rating</span>, 
    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5.5</span>, <span class="fl">6.5</span>, <span class="fl">7</span>, <span class="fl">7.5</span>, <span class="fl">10</span><span class="op">)</span>, 
    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Very Low"</span>, <span class="st">"Low"</span>, <span class="st">"Moderate"</span>, <span class="st">"High"</span>, <span class="st">"Very High"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                     Title Year Rating Metascore Movie.Class</span>
<span class="co">#&gt; 1 Guardians of the Galaxy 2014    8.1        76   Very High</span>
<span class="co">#&gt; 2              Prometheus 2012    7.0        65    Moderate</span>
<span class="co">#&gt; 3                   Split 2016    7.3        62        High</span>
<span class="co">#&gt; 4                    Sing 2016    7.2        59        High</span>
<span class="co">#&gt; 5           Suicide Squad 2016    6.2        40         Low</span>
<span class="co">#&gt; 6          The Great Wall 2016    6.1        42         Low</span>

<span class="co"># plotting the new column</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Movie.Class</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="03-datamanipulation_files/figure-html/unnamed-chunk-10-1.png" width="672"></div>
</div>
<div id="deriving-a-new-column-from-a-calculation" class="section level4" number="4.4.3.4">
<h4>
<span class="header-section-number">4.4.3.4</span> Deriving a new column from a calculation<a class="anchor" aria-label="anchor" href="#deriving-a-new-column-from-a-calculation"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">11</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Rev.Run</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span><span class="op">/</span><span class="va">movies</span><span class="op">$</span><span class="va">Runtime</span>, <span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                     Title             Director Year Runtime</span>
<span class="co">#&gt; 1 Guardians of the Galaxy           James Gunn 2014     121</span>
<span class="co">#&gt; 2              Prometheus         Ridley Scott 2012     124</span>
<span class="co">#&gt; 3                   Split   M. Night Shyamalan 2016     117</span>
<span class="co">#&gt; 4                    Sing Christophe Lourdelet 2016     108</span>
<span class="co">#&gt; 5           Suicide Squad           David Ayer 2016     123</span>
<span class="co">#&gt; 6          The Great Wall          Yimou Zhang 2016     103</span>
<span class="co">#&gt;   Revenue Rev.Run</span>
<span class="co">#&gt; 1  333.13    2.75</span>
<span class="co">#&gt; 2  126.46    1.02</span>
<span class="co">#&gt; 3  138.12    1.18</span>
<span class="co">#&gt; 4  270.32    2.50</span>
<span class="co">#&gt; 5  325.02    2.64</span>
<span class="co">#&gt; 6   45.13    0.44</span></code></pre></div>
</div>
<div id="updating-a-column" class="section level4" number="4.4.3.5">
<h4>
<span class="header-section-number">4.4.3.5</span> Updating a column<a class="anchor" aria-label="anchor" href="#updating-a-column"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Director</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Director</span><span class="op">)</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Title</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Title</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                     Title             Director Year Rating</span>
<span class="co">#&gt; 1 guardians of the galaxy           JAMES GUNN 2014    8.1</span>
<span class="co">#&gt; 2              prometheus         RIDLEY SCOTT 2012    7.0</span>
<span class="co">#&gt; 3                   split   M. NIGHT SHYAMALAN 2016    7.3</span>
<span class="co">#&gt; 4                    sing CHRISTOPHE LOURDELET 2016    7.2</span>
<span class="co">#&gt; 5           suicide squad           DAVID AYER 2016    6.2</span>
<span class="co">#&gt; 6          the great wall          YIMOU ZHANG 2016    6.1</span>
<span class="co">#&gt;   Revenue Metascore</span>
<span class="co">#&gt; 1  333.13        76</span>
<span class="co">#&gt; 2  126.46        65</span>
<span class="co">#&gt; 3  138.12        62</span>
<span class="co">#&gt; 4  270.32        59</span>
<span class="co">#&gt; 5  325.02        40</span>
<span class="co">#&gt; 6   45.13        42</span></code></pre></div>
</div>
</div>
<div id="sorting-and-ranking" class="section level3" number="4.4.4">
<h3>
<span class="header-section-number">4.4.4</span> Sorting and ranking<a class="anchor" aria-label="anchor" href="#sorting-and-ranking"><i class="fas fa-link"></i></a>
</h3>
<div id="br-sort" class="section level4" number="4.4.4.1">
<h4>
<span class="header-section-number">4.4.4.1</span> Sorting a data frame<a class="anchor" aria-label="anchor" href="#br-sort"><i class="fas fa-link"></i></a>
</h4>
<p>The <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> function is used to sort a data frame. It takes a column and returns indices in ascending order. To reverse this, use <code>decreasing = TRUE</code>. Once the indices are sorted, they are used to index the data frame. The function <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> also works on character columns as well and on multiple columns.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># sorting by revenue</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies_ordered</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span><span class="op">)</span>,<span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_ordered</span><span class="op">)</span>
<span class="co">#&gt;                Title Year Revenue Metascore</span>
<span class="co">#&gt; 232 A Kind of Murder 2016    0.00        50</span>
<span class="co">#&gt; 28        Dead Awake 2016    0.01        NA</span>
<span class="co">#&gt; 69         Wakefield 2016    0.01        61</span>
<span class="co">#&gt; 322         Lovesong 2016    0.01        74</span>
<span class="co">#&gt; 678      Love, Rosie 2014    0.01        44</span>
<span class="co">#&gt; 962  Into the Forest 2015    0.01        59</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies_ordered</span><span class="op">)</span>
<span class="co">#&gt;                              Title Year Revenue Metascore</span>
<span class="co">#&gt; 977                    Dark Places 2015      NA        39</span>
<span class="co">#&gt; 978                  Amateur Night 2016      NA        38</span>
<span class="co">#&gt; 979 It's Only the End of the World 2016      NA        48</span>
<span class="co">#&gt; 989                        Martyrs 2008      NA        89</span>
<span class="co">#&gt; 996           Secret in Their Eyes 2015      NA        45</span>
<span class="co">#&gt; 999                   Search Party 2014      NA        22</span>

<span class="co"># sort decreasing</span>
<span class="va">movies_ordered</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span>, decreasing <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,<span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_ordered</span><span class="op">)</span>
<span class="co">#&gt;                                         Title Year Revenue</span>
<span class="co">#&gt; 51 Star Wars: Episode VII - The Force Awakens 2015  936.63</span>
<span class="co">#&gt; 88                                     Avatar 2009  760.51</span>
<span class="co">#&gt; 86                             Jurassic World 2015  652.18</span>
<span class="co">#&gt; 77                               The Avengers 2012  623.28</span>
<span class="co">#&gt; 55                            The Dark Knight 2008  533.32</span>
<span class="co">#&gt; 13                                  Rogue One 2016  532.17</span>
<span class="co">#&gt;    Metascore</span>
<span class="co">#&gt; 51        81</span>
<span class="co">#&gt; 88        83</span>
<span class="co">#&gt; 86        59</span>
<span class="co">#&gt; 77        69</span>
<span class="co">#&gt; 55        82</span>
<span class="co">#&gt; 13        65</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies_ordered</span><span class="op">)</span>
<span class="co">#&gt;                              Title Year Revenue Metascore</span>
<span class="co">#&gt; 977                    Dark Places 2015      NA        39</span>
<span class="co">#&gt; 978                  Amateur Night 2016      NA        38</span>
<span class="co">#&gt; 979 It's Only the End of the World 2016      NA        48</span>
<span class="co">#&gt; 989                        Martyrs 2008      NA        89</span>
<span class="co">#&gt; 996           Secret in Their Eyes 2015      NA        45</span>
<span class="co">#&gt; 999                   Search Party 2014      NA        22</span>

<span class="co"># sort decreasing using the negative sign</span>
<span class="va">movies_ordered</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span><span class="op">)</span>,<span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_ordered</span><span class="op">)</span>
<span class="co">#&gt;                                         Title Year Revenue</span>
<span class="co">#&gt; 51 Star Wars: Episode VII - The Force Awakens 2015  936.63</span>
<span class="co">#&gt; 88                                     Avatar 2009  760.51</span>
<span class="co">#&gt; 86                             Jurassic World 2015  652.18</span>
<span class="co">#&gt; 77                               The Avengers 2012  623.28</span>
<span class="co">#&gt; 55                            The Dark Knight 2008  533.32</span>
<span class="co">#&gt; 13                                  Rogue One 2016  532.17</span>
<span class="co">#&gt;    Metascore</span>
<span class="co">#&gt; 51        81</span>
<span class="co">#&gt; 88        83</span>
<span class="co">#&gt; 86        59</span>
<span class="co">#&gt; 77        69</span>
<span class="co">#&gt; 55        82</span>
<span class="co">#&gt; 13        65</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies_ordered</span><span class="op">)</span>
<span class="co">#&gt;                              Title Year Revenue Metascore</span>
<span class="co">#&gt; 977                    Dark Places 2015      NA        39</span>
<span class="co">#&gt; 978                  Amateur Night 2016      NA        38</span>
<span class="co">#&gt; 979 It's Only the End of the World 2016      NA        48</span>
<span class="co">#&gt; 989                        Martyrs 2008      NA        89</span>
<span class="co">#&gt; 996           Secret in Their Eyes 2015      NA        45</span>
<span class="co">#&gt; 999                   Search Party 2014      NA        22</span></code></pre></div>
<p>By default, <code>NA</code> values appear at the end of the sorted column, but this can be changed by setting <code>na.last = FALSE</code> so that they appear first.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># placing NA at the beginning</span>
<span class="va">movies_ordered</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span>, na.last <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,<span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_ordered</span><span class="op">)</span>
<span class="co">#&gt;                      Title Year Revenue Metascore</span>
<span class="co">#&gt; 8                 Mindhorn 2016      NA        71</span>
<span class="co">#&gt; 23          Hounds of Love 2016      NA        72</span>
<span class="co">#&gt; 26         Paris pieds nus 2016      NA        NA</span>
<span class="co">#&gt; 40               5- 25- 77 2007      NA        NA</span>
<span class="co">#&gt; 43 Don't Fuck in the Woods 2016      NA        NA</span>
<span class="co">#&gt; 48                  Fallen 2016      NA        NA</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies_ordered</span><span class="op">)</span>
<span class="co">#&gt;                                         Title Year Revenue</span>
<span class="co">#&gt; 13                                  Rogue One 2016  532.17</span>
<span class="co">#&gt; 55                            The Dark Knight 2008  533.32</span>
<span class="co">#&gt; 77                               The Avengers 2012  623.28</span>
<span class="co">#&gt; 86                             Jurassic World 2015  652.18</span>
<span class="co">#&gt; 88                                     Avatar 2009  760.51</span>
<span class="co">#&gt; 51 Star Wars: Episode VII - The Force Awakens 2015  936.63</span>
<span class="co">#&gt;    Metascore</span>
<span class="co">#&gt; 13        65</span>
<span class="co">#&gt; 55        82</span>
<span class="co">#&gt; 77        69</span>
<span class="co">#&gt; 86        59</span>
<span class="co">#&gt; 88        83</span>
<span class="co">#&gt; 51        81</span>

<span class="co"># sorting on multiple columns</span>
<span class="va">movies_ordered</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Metascore</span>, <span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span>, decreasing <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,<span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_ordered</span>, <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;                     Title Year Revenue Metascore</span>
<span class="co">#&gt; 657               Boyhood 2014   25.36       100</span>
<span class="co">#&gt; 42              Moonlight 2016   27.85        99</span>
<span class="co">#&gt; 231       Pan's Labyrinth 2006   37.62        98</span>
<span class="co">#&gt; 510               Gravity 2013  274.08        96</span>
<span class="co">#&gt; 490           Ratatouille 2007  206.44        96</span>
<span class="co">#&gt; 112      12 Years a Slave 2013   56.67        96</span>
<span class="co">#&gt; 22  Manchester by the Sea 2016   47.70        96</span>
<span class="co">#&gt; 325    The Social Network 2010   96.92        95</span>
<span class="co">#&gt; 407      Zero Dark Thirty 2012   95.72        95</span>
<span class="co">#&gt; 502                 Carol 2015    0.25        95</span></code></pre></div>
</div>
<div id="ranking" class="section level4" number="4.4.4.2">
<h4>
<span class="header-section-number">4.4.4.2</span> Ranking<a class="anchor" aria-label="anchor" href="#ranking"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/rank.html">rank()</a></code> ranks column values. It does this in ascending order but can be reversed by placing a negative sign in front of the ranking column as there is no decreasing argument here as was the case with the <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> function.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># returning ranks by revenue</span>
<span class="fu"><a href="https://rdrr.io/r/base/rank.html">rank</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>
<span class="co">#&gt;  [1] 841 678 702 819 839 419 724 873 182 623</span>

<span class="co"># adding a rank to the data frame</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Ranking</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html">rank</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                     Title Year Revenue Metascore Ranking</span>
<span class="co">#&gt; 1 Guardians of the Galaxy 2014  333.13        76     841</span>
<span class="co">#&gt; 2              Prometheus 2012  126.46        65     678</span>
<span class="co">#&gt; 3                   Split 2016  138.12        62     702</span>
<span class="co">#&gt; 4                    Sing 2016  270.32        59     819</span>
<span class="co">#&gt; 5           Suicide Squad 2016  325.02        40     839</span>
<span class="co">#&gt; 6          The Great Wall 2016   45.13        42     419</span>

<span class="co"># sorting by rank</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Ranking</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html">rank</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span><span class="op">)</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Ranking</span><span class="op">)</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                Title Year Revenue Metascore Ranking</span>
<span class="co">#&gt; 232 A Kind of Murder 2016    0.00        50       1</span>
<span class="co">#&gt; 28        Dead Awake 2016    0.01        NA       4</span>
<span class="co">#&gt; 69         Wakefield 2016    0.01        61       4</span>
<span class="co">#&gt; 322         Lovesong 2016    0.01        74       4</span>
<span class="co">#&gt; 678      Love, Rosie 2014    0.01        44       4</span>
<span class="co">#&gt; 962  Into the Forest 2015    0.01        59       4</span>

<span class="co"># placing NA values at the beginning</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Ranking</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html">rank</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span>, na.last <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Ranking</span><span class="op">)</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                      Title Year Revenue Metascore Ranking</span>
<span class="co">#&gt; 8                 Mindhorn 2016      NA        71       1</span>
<span class="co">#&gt; 23          Hounds of Love 2016      NA        72       2</span>
<span class="co">#&gt; 26         Paris pieds nus 2016      NA        NA       3</span>
<span class="co">#&gt; 40               5- 25- 77 2007      NA        NA       4</span>
<span class="co">#&gt; 43 Don't Fuck in the Woods 2016      NA        NA       5</span>
<span class="co">#&gt; 48                  Fallen 2016      NA        NA       6</span></code></pre></div>
<p>There is no decreasing argument with <code><a href="https://rdrr.io/r/base/rank.html">rank()</a></code>, hence our only chance of performing a decreasing rank is to use the negative sign.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># performing a decreasing rank</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">11</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">$</span><span class="va">Ranking</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">movies</span><span class="op">$</span><span class="va">Revenue</span><span class="op">)</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">movies</span><span class="op">$</span><span class="va">Ranking</span><span class="op">)</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                                         Title Year Runtime</span>
<span class="co">#&gt; 51 Star Wars: Episode VII - The Force Awakens 2015     136</span>
<span class="co">#&gt; 88                                     Avatar 2009     162</span>
<span class="co">#&gt; 86                             Jurassic World 2015     124</span>
<span class="co">#&gt; 77                               The Avengers 2012     143</span>
<span class="co">#&gt; 55                            The Dark Knight 2008     152</span>
<span class="co">#&gt; 13                                  Rogue One 2016     133</span>
<span class="co">#&gt;    Revenue Ranking</span>
<span class="co">#&gt; 51  936.63       1</span>
<span class="co">#&gt; 88  760.51       2</span>
<span class="co">#&gt; 86  652.18       3</span>
<span class="co">#&gt; 77  623.28       4</span>
<span class="co">#&gt; 55  533.32       5</span>
<span class="co">#&gt; 13  532.17       6</span></code></pre></div>
</div>
</div>
<div id="splitting-and-merging-columns" class="section level3" number="4.4.5">
<h3>
<span class="header-section-number">4.4.5</span> Splitting and Merging columns<a class="anchor" aria-label="anchor" href="#splitting-and-merging-columns"><i class="fas fa-link"></i></a>
</h3>
<div id="splitting-columns" class="section level4" number="4.4.5.1">
<h4>
<span class="header-section-number">4.4.5.1</span> Splitting columns<a class="anchor" aria-label="anchor" href="#splitting-columns"><i class="fas fa-link"></i></a>
</h4>
<p>To split a data frame, we do the following</p>
<ul>
<li>select the column concerned and pass it to the function <code><a href="https://rdrr.io/r/base/strsplit.html">strsplit()</a></code> together with the string to split on. This will return a list</li>
<li>using the function <code><a href="https://rdrr.io/r/base/do.call.html">do.call('rbind', dfs)</a></code> convert the list to a data frame</li>
<li>rename the columns of the new data frame</li>
<li>finally using <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code>, combine the new data frame to the original one</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Airports are ranked by travellers and experts based on various measures.</span>
<span class="co"># https://www.kaggle.com/jonahmary17/airports</span>

<span class="co"># reading data</span>
<span class="va">busiestAirports</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"data/busiestAirports.csv"</span>, 
                              header <span class="op">=</span> <span class="cn">T</span>, 
                              sep<span class="op">=</span><span class="st">","</span>, 
                              dec <span class="op">=</span> <span class="st">"."</span>, 
                              quote <span class="op">=</span> <span class="st">"\""</span><span class="op">)</span>

<span class="va">busiestAirports</span> <span class="op">&lt;-</span> <span class="va">busiestAirports</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">8</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">busiestAirports</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;   code.iata.icao.                 location</span>
<span class="co">#&gt; 1        ATL/KATL         Atlanta, Georgia</span>
<span class="co">#&gt; 2        PEK/ZBAA Chaoyang-Shunyi, Beijing</span>
<span class="co">#&gt; 3        DXB/OMDB           Garhoud, Dubai</span>
<span class="co">#&gt;                country</span>
<span class="co">#&gt; 1        United States</span>
<span class="co">#&gt; 2                China</span>
<span class="co">#&gt; 3 United Arab Emirates</span>

<span class="co"># splitting column</span>
<span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">busiestAirports</span><span class="op">$</span><span class="va">code.iata.icao.</span>,<span class="st">'/'</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "ATL"  "KATL"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] "PEK"  "ZBAA"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] "DXB"  "OMDB"</span>

<span class="co"># converting to a data frame</span>
<span class="va">iata_icao</span> <span class="op">&lt;-</span> 
<span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="st">'rbind'</span>, <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">busiestAirports</span><span class="op">$</span><span class="va">code.iata.icao.</span>, <span class="st">'/'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">iata_icao</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;    X1   X2</span>
<span class="co">#&gt; 1 ATL KATL</span>
<span class="co">#&gt; 2 PEK ZBAA</span>
<span class="co">#&gt; 3 DXB OMDB</span>

<span class="co"># renaming columns</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">iata_icao</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'iata'</span>, <span class="st">'icao'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">iata_icao</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;   iata icao</span>
<span class="co">#&gt; 1  ATL KATL</span>
<span class="co">#&gt; 2  PEK ZBAA</span>
<span class="co">#&gt; 3  DXB OMDB</span>

<span class="co"># combining both data frames</span>
<span class="va">busiest_Airports</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">busiestAirports</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span>, <span class="va">iata_icao</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">busiest_Airports</span><span class="op">)</span>
<span class="co">#&gt;                   location              country iata icao</span>
<span class="co">#&gt; 1         Atlanta, Georgia        United States  ATL KATL</span>
<span class="co">#&gt; 2 Chaoyang-Shunyi, Beijing                China  PEK ZBAA</span>
<span class="co">#&gt; 3           Garhoud, Dubai United Arab Emirates  DXB OMDB</span>
<span class="co">#&gt; 4  Los Angeles, California        United States  LAX KLAX</span>
<span class="co">#&gt; 5               Ota, Tokyo                Japan  HND RJTT</span>
<span class="co">#&gt; 6        Chicago, Illinois        United States  ORD KORD</span></code></pre></div>
</div>
<div id="merging-columns" class="section level4" number="4.4.5.2">
<h4>
<span class="header-section-number">4.4.5.2</span> Merging columns<a class="anchor" aria-label="anchor" href="#merging-columns"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/paste.html">paste()</a></code> is used to merge columns.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># merging iata and icao into iata_icao</span>
<span class="va">busiest_Airports</span><span class="op">$</span><span class="va">iata_icao</span> <span class="op">&lt;-</span> 
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">busiest_Airports</span><span class="op">$</span><span class="va">iata</span>, <span class="va">busiest_Airports</span><span class="op">$</span><span class="va">icao</span>, sep <span class="op">=</span> <span class="st">'-'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">busiest_Airports</span><span class="op">)</span>
<span class="co">#&gt;                   location              country iata icao</span>
<span class="co">#&gt; 1         Atlanta, Georgia        United States  ATL KATL</span>
<span class="co">#&gt; 2 Chaoyang-Shunyi, Beijing                China  PEK ZBAA</span>
<span class="co">#&gt; 3           Garhoud, Dubai United Arab Emirates  DXB OMDB</span>
<span class="co">#&gt; 4  Los Angeles, California        United States  LAX KLAX</span>
<span class="co">#&gt; 5               Ota, Tokyo                Japan  HND RJTT</span>
<span class="co">#&gt; 6        Chicago, Illinois        United States  ORD KORD</span>
<span class="co">#&gt;   iata_icao</span>
<span class="co">#&gt; 1  ATL-KATL</span>
<span class="co">#&gt; 2  PEK-ZBAA</span>
<span class="co">#&gt; 3  DXB-OMDB</span>
<span class="co">#&gt; 4  LAX-KLAX</span>
<span class="co">#&gt; 5  HND-RJTT</span>
<span class="co">#&gt; 6  ORD-KORD</span></code></pre></div>
</div>
</div>
</div>
<div id="br-filter-cols" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Selecting columns<a class="anchor" aria-label="anchor" href="#br-filter-cols"><i class="fas fa-link"></i></a>
</h2>
<p>The function <code><a href="https://rdrr.io/r/base/subset.html">subset()</a></code> or <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> is used to select columns.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt;       country year</span>
<span class="co">#&gt; 1 Afghanistan 1952</span>
<span class="co">#&gt; 2 Afghanistan 1957</span>
<span class="co">#&gt; 3 Afghanistan 1962</span>
<span class="co">#&gt; 4 Afghanistan 1967</span>
<span class="co">#&gt; 5 Afghanistan 1972</span>
<span class="co">#&gt; 6 Afghanistan 1977</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"gdpPercap"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt;       country gdpPercap</span>
<span class="co">#&gt; 1 Afghanistan  779.4453</span>
<span class="co">#&gt; 2 Afghanistan  820.8530</span>
<span class="co">#&gt; 3 Afghanistan  853.1007</span>
<span class="co">#&gt; 4 Afghanistan  836.1971</span>
<span class="co">#&gt; 5 Afghanistan  739.9811</span>
<span class="co">#&gt; 6 Afghanistan  786.1134</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span>, select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"gdpPercap"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;       country gdpPercap</span>
<span class="co">#&gt; 1 Afghanistan  779.4453</span>
<span class="co">#&gt; 2 Afghanistan  820.8530</span>
<span class="co">#&gt; 3 Afghanistan  853.1007</span>
<span class="co">#&gt; 4 Afghanistan  836.1971</span>
<span class="co">#&gt; 5 Afghanistan  739.9811</span>
<span class="co">#&gt; 6 Afghanistan  786.1134</span></code></pre></div>
</div>
<div id="deleting-columns" class="section level2" number="4.6">
<h2>
<span class="header-section-number">4.6</span> Deleting columns<a class="anchor" aria-label="anchor" href="#deleting-columns"><i class="fas fa-link"></i></a>
</h2>
<p>There is no special function to delete columns but <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> and <code>NULL</code> can be used to drop unwanted columns.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1704 obs. of  8 variables:</span>
<span class="co">#&gt;  $ country      : chr  "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span>
<span class="co">#&gt;  $ continent    : chr  "Asia" "Asia" "Asia" "Asia" ...</span>
<span class="co">#&gt;  $ year         : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span>
<span class="co">#&gt;  $ lifeExp      : num  28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ pop          : int  8425333 9240934 10267083 11537966 13079460 14880372 12881816 13867957 16317921 22227415 ...</span>
<span class="co">#&gt;  $ gdpPercap    : num  779 821 853 836 740 ...</span>
<span class="co">#&gt;  $ country_hun  : chr  "Afganisztán" "Afganisztán" "Afganisztán" "Afganisztán" ...</span>
<span class="co">#&gt;  $ continent_hun: chr  "Ázsia" "Ázsia" "Ázsia" "Ázsia" ...</span>
<span class="va">gapminder_cp1250</span><span class="op">$</span><span class="va">pop</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1704 obs. of  7 variables:</span>
<span class="co">#&gt;  $ country      : chr  "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span>
<span class="co">#&gt;  $ continent    : chr  "Asia" "Asia" "Asia" "Asia" ...</span>
<span class="co">#&gt;  $ year         : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span>
<span class="co">#&gt;  $ lifeExp      : num  28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ gdpPercap    : num  779 821 853 836 740 ...</span>
<span class="co">#&gt;  $ country_hun  : chr  "Afganisztán" "Afganisztán" "Afganisztán" "Afganisztán" ...</span>
<span class="co">#&gt;  $ continent_hun: chr  "Ázsia" "Ázsia" "Ázsia" "Ázsia" ...</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1704 obs. of  7 variables:</span>
<span class="co">#&gt;  $ country      : chr  "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span>
<span class="co">#&gt;  $ continent    : chr  "Asia" "Asia" "Asia" "Asia" ...</span>
<span class="co">#&gt;  $ year         : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span>
<span class="co">#&gt;  $ lifeExp      : num  28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ gdpPercap    : num  779 821 853 836 740 ...</span>
<span class="co">#&gt;  $ country_hun  : chr  "Afganisztán" "Afganisztán" "Afganisztán" "Afganisztán" ...</span>
<span class="co">#&gt;  $ continent_hun: chr  "Ázsia" "Ázsia" "Ázsia" "Ázsia" ...</span>
<span class="va">gapminder_cp1250</span> <span class="op">&lt;-</span> <span class="va">gapminder_cp1250</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    1704 obs. of  4 variables:</span>
<span class="co">#&gt;  $ country    : chr  "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span>
<span class="co">#&gt;  $ continent  : chr  "Asia" "Asia" "Asia" "Asia" ...</span>
<span class="co">#&gt;  $ gdpPercap  : num  779 821 853 836 740 ...</span>
<span class="co">#&gt;  $ country_hun: chr  "Afganisztán" "Afganisztán" "Afganisztán" "Afganisztán" ...</span></code></pre></div>
</div>
<div id="manipulating-rows" class="section level2" number="4.7">
<h2>
<span class="header-section-number">4.7</span> Manipulating Rows<a class="anchor" aria-label="anchor" href="#manipulating-rows"><i class="fas fa-link"></i></a>
</h2>
<div id="br-row-names" class="section level3" number="4.7.1">
<h3>
<span class="header-section-number">4.7.1</span> Renaming rows<a class="anchor" aria-label="anchor" href="#br-row-names"><i class="fas fa-link"></i></a>
</h3>
<p>After importing data, rows can be renamed by assigning new names to them.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>
<span class="co">#&gt; [1] "1" "2" "3" "4" "5" "6"</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"RN-"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span>
<span class="co">#&gt;           orszag kontinens year lifeExp      pop gdpPercap</span>
<span class="co">#&gt; RN-1 Afghanistan      Asia 1952  28.801  8425333  779.4453</span>
<span class="co">#&gt; RN-2 Afghanistan      Asia 1957  30.332  9240934  820.8530</span>
<span class="co">#&gt; RN-3 Afghanistan      Asia 1962  31.997 10267083  853.1007</span>
<span class="co">#&gt; RN-4 Afghanistan      Asia 1967  34.020 11537966  836.1971</span>
<span class="co">#&gt; RN-5 Afghanistan      Asia 1972  36.088 13079460  739.9811</span>
<span class="co">#&gt; RN-6 Afghanistan      Asia 1977  38.438 14880372  786.1134</span>
<span class="co">#&gt;       orszag_hun kontinens_hun</span>
<span class="co">#&gt; RN-1 Afganisztán         Ázsia</span>
<span class="co">#&gt; RN-2 Afganisztán         Ázsia</span>
<span class="co">#&gt; RN-3 Afganisztán         Ázsia</span>
<span class="co">#&gt; RN-4 Afganisztán         Ázsia</span>
<span class="co">#&gt; RN-5 Afganisztán         Ázsia</span>
<span class="co">#&gt; RN-6 Afganisztán         Ázsia</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span> <span class="co"># reset row names</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder_utf8</span><span class="op">)</span>
<span class="co">#&gt;        orszag kontinens year lifeExp      pop gdpPercap</span>
<span class="co">#&gt; 1 Afghanistan      Asia 1952  28.801  8425333  779.4453</span>
<span class="co">#&gt; 2 Afghanistan      Asia 1957  30.332  9240934  820.8530</span>
<span class="co">#&gt; 3 Afghanistan      Asia 1962  31.997 10267083  853.1007</span>
<span class="co">#&gt; 4 Afghanistan      Asia 1967  34.020 11537966  836.1971</span>
<span class="co">#&gt; 5 Afghanistan      Asia 1972  36.088 13079460  739.9811</span>
<span class="co">#&gt; 6 Afghanistan      Asia 1977  38.438 14880372  786.1134</span>
<span class="co">#&gt;    orszag_hun kontinens_hun</span>
<span class="co">#&gt; 1 Afganisztán         Ázsia</span>
<span class="co">#&gt; 2 Afganisztán         Ázsia</span>
<span class="co">#&gt; 3 Afganisztán         Ázsia</span>
<span class="co">#&gt; 4 Afganisztán         Ázsia</span>
<span class="co">#&gt; 5 Afganisztán         Ázsia</span>
<span class="co">#&gt; 6 Afganisztán         Ázsia</span></code></pre></div>
</div>
<div id="adding-rows" class="section level3" number="4.7.2">
<h3>
<span class="header-section-number">4.7.2</span> Adding rows<a class="anchor" aria-label="anchor" href="#adding-rows"><i class="fas fa-link"></i></a>
</h3>
<div id="adding-rows-by-assignment" class="section level4" number="4.7.2.1">
<h4>
<span class="header-section-number">4.7.2.1</span> Adding rows by assignment<a class="anchor" aria-label="anchor" href="#adding-rows-by-assignment"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;                       Title         Director Year Rating</span>
<span class="co">#&gt; 998  Step Up 2: The Streets       Jon M. Chu 2008    6.2</span>
<span class="co">#&gt; 999            Search Party   Scot Armstrong 2014    5.6</span>
<span class="co">#&gt; 1000             Nine Lives Barry Sonnenfeld 2016    5.3</span>
<span class="co">#&gt;      Revenue Metascore</span>
<span class="co">#&gt; 998    58.01        50</span>
<span class="co">#&gt; 999       NA        22</span>
<span class="co">#&gt; 1000   19.64        11</span>

<span class="co"># inserting rows</span>
<span class="va">movies</span><span class="op">[</span><span class="fl">1001</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"the big g"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2015</span>, <span class="fl">9.9</span>, <span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span>
<span class="va">movies</span><span class="op">[</span><span class="fl">1002</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"luv of my life"</span>, <span class="st">"nema lovic"</span>, <span class="fl">2016</span>, <span class="fl">7.9</span>, <span class="fl">150</span>, <span class="fl">65</span><span class="op">)</span>
<span class="va">movies</span><span class="op">[</span><span class="fl">1003</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"everyday"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2014</span>, <span class="fl">4.4</span>, <span class="fl">170</span>, <span class="fl">40</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                       Title         Director Year Rating</span>
<span class="co">#&gt; 998  Step Up 2: The Streets       Jon M. Chu 2008    6.2</span>
<span class="co">#&gt; 999            Search Party   Scot Armstrong 2014    5.6</span>
<span class="co">#&gt; 1000             Nine Lives Barry Sonnenfeld 2016    5.3</span>
<span class="co">#&gt; 1001              the big g       goro lovic 2015    9.9</span>
<span class="co">#&gt; 1002         luv of my life       nema lovic 2016    7.9</span>
<span class="co">#&gt; 1003               everyday       goro lovic 2014    4.4</span>
<span class="co">#&gt;      Revenue Metascore</span>
<span class="co">#&gt; 998    58.01        50</span>
<span class="co">#&gt; 999     &lt;NA&gt;        22</span>
<span class="co">#&gt; 1000   19.64        11</span>
<span class="co">#&gt; 1001    1000       100</span>
<span class="co">#&gt; 1002     150        65</span>
<span class="co">#&gt; 1003     170        40</span>

<span class="co"># using nrow</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"the big g"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2015</span>, <span class="fl">9.9</span>, <span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span>
<span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"luv of my life"</span>, <span class="st">"nema lovic"</span>, <span class="fl">2016</span>, <span class="fl">7.9</span>, <span class="fl">150</span>, <span class="fl">65</span><span class="op">)</span>
<span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"everyday"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2014</span>, <span class="fl">4.4</span>, <span class="fl">170</span>, <span class="fl">40</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                       Title         Director Year Rating</span>
<span class="co">#&gt; 998  Step Up 2: The Streets       Jon M. Chu 2008    6.2</span>
<span class="co">#&gt; 999            Search Party   Scot Armstrong 2014    5.6</span>
<span class="co">#&gt; 1000             Nine Lives Barry Sonnenfeld 2016    5.3</span>
<span class="co">#&gt; 1001              the big g       goro lovic 2015    9.9</span>
<span class="co">#&gt; 1002         luv of my life       nema lovic 2016    7.9</span>
<span class="co">#&gt; 1003               everyday       goro lovic 2014    4.4</span>
<span class="co">#&gt;      Revenue Metascore</span>
<span class="co">#&gt; 998    58.01        50</span>
<span class="co">#&gt; 999     &lt;NA&gt;        22</span>
<span class="co">#&gt; 1000   19.64        11</span>
<span class="co">#&gt; 1001    1000       100</span>
<span class="co">#&gt; 1002     150        65</span>
<span class="co">#&gt; 1003     170        40</span></code></pre></div>
<p>The function <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> can combine both a list or a vector to a data frame. Generally, avoid using vectors as they may change the data type of the data frame.</p>
</div>
<div id="adding-rows-using-rbind" class="section level4" number="4.7.2.2">
<h4>
<span class="header-section-number">4.7.2.2</span> Adding rows using rbind()<a class="anchor" aria-label="anchor" href="#adding-rows-using-rbind"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># binding a list to a data frame</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">movies</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"the big g"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2015</span>, <span class="fl">9.9</span>, <span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">movies</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"luv of my life"</span>, <span class="st">"nema lovic"</span>, <span class="fl">2016</span>, <span class="fl">7.9</span>, <span class="fl">150</span>, <span class="fl">65</span><span class="op">)</span><span class="op">)</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">movies</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"everyday"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2014</span>, <span class="fl">4.4</span>, <span class="fl">170</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                       Title         Director Year Rating</span>
<span class="co">#&gt; 998  Step Up 2: The Streets       Jon M. Chu 2008    6.2</span>
<span class="co">#&gt; 999            Search Party   Scot Armstrong 2014    5.6</span>
<span class="co">#&gt; 1000             Nine Lives Barry Sonnenfeld 2016    5.3</span>
<span class="co">#&gt; 1001              the big g       goro lovic 2015    9.9</span>
<span class="co">#&gt; 1002         luv of my life       nema lovic 2016    7.9</span>
<span class="co">#&gt; 1003               everyday       goro lovic 2014    4.4</span>
<span class="co">#&gt;      Revenue Metascore</span>
<span class="co">#&gt; 998    58.01        50</span>
<span class="co">#&gt; 999       NA        22</span>
<span class="co">#&gt; 1000   19.64        11</span>
<span class="co">#&gt; 1001 1000.00       100</span>
<span class="co">#&gt; 1002  150.00        65</span>
<span class="co">#&gt; 1003  170.00        40</span>

<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">movies</span>, <span class="va">class</span><span class="op">)</span>
<span class="co">#&gt;       Title    Director        Year      Rating     Revenue </span>
<span class="co">#&gt; "character" "character"   "integer"   "numeric"   "numeric" </span>
<span class="co">#&gt;   Metascore </span>
<span class="co">#&gt;   "integer"</span>

<span class="co"># using a vector</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">movies</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"the big g"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2015</span>, <span class="fl">9.9</span>, <span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">movies</span>, <span class="va">class</span><span class="op">)</span>
<span class="co">#&gt;       Title    Director        Year      Rating     Revenue </span>
<span class="co">#&gt; "character" "character" "character" "character" "character" </span>
<span class="co">#&gt;   Metascore </span>
<span class="co">#&gt; "character"</span></code></pre></div>
</div>
<div id="adding-rows-using-do.call" class="section level4" number="4.7.2.3">
<h4>
<span class="header-section-number">4.7.2.3</span> Adding rows using do.call()<a class="anchor" aria-label="anchor" href="#adding-rows-using-do.call"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/do.call.html">do.call('rbind', dfs)</a></code> combines a list of data frames, list, and vectors. Again, avoid using vectors as they may change the data type of the data frames.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">mov</span>, select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="st">'rbind'</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">movies</span>,
                                <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"the big g"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2015</span>, <span class="fl">9.9</span>, <span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span>, 
                                <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"luv of my life"</span>, <span class="st">"nema lovic"</span>, <span class="fl">2016</span>, <span class="fl">7.9</span>, <span class="fl">150</span>, <span class="fl">65</span><span class="op">)</span>, 
                                <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"everyday"</span>, <span class="st">"goro lovic"</span>, <span class="fl">2014</span>, <span class="fl">4.4</span>, <span class="fl">170</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                       Title         Director Year Rating</span>
<span class="co">#&gt; 998  Step Up 2: The Streets       Jon M. Chu 2008    6.2</span>
<span class="co">#&gt; 999            Search Party   Scot Armstrong 2014    5.6</span>
<span class="co">#&gt; 1000             Nine Lives Barry Sonnenfeld 2016    5.3</span>
<span class="co">#&gt; 1001              the big g       goro lovic 2015    9.9</span>
<span class="co">#&gt; 1002         luv of my life       nema lovic 2016    7.9</span>
<span class="co">#&gt; 1003               everyday       goro lovic 2014    4.4</span>
<span class="co">#&gt;      Revenue Metascore</span>
<span class="co">#&gt; 998    58.01        50</span>
<span class="co">#&gt; 999       NA        22</span>
<span class="co">#&gt; 1000   19.64        11</span>
<span class="co">#&gt; 1001 1000.00       100</span>
<span class="co">#&gt; 1002  150.00        65</span>
<span class="co">#&gt; 1003  170.00        40</span></code></pre></div>
</div>
</div>
<div id="updating-rows-of-data" class="section level3" number="4.7.3">
<h3>
<span class="header-section-number">4.7.3</span> Updating rows of data<a class="anchor" aria-label="anchor" href="#updating-rows-of-data"><i class="fas fa-link"></i></a>
</h3>
<p>To update a row, we simply select it and give it a new list of values. Vectors can be used also but should be avoided as they may change the data type of the data frame.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">[</span><span class="fl">6</span>,<span class="op">]</span>
<span class="co">#&gt;   Rank          Title    Director Year Rating Revenue</span>
<span class="co">#&gt; 6    6 The Great Wall Yimou Zhang 2016    6.1   45.13</span>
<span class="co">#&gt;   Metascore</span>
<span class="co">#&gt; 6        42</span>

<span class="co"># updating a row by indexing</span>
<span class="va">movies</span><span class="op">[</span><span class="fl">6</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">6</span>, <span class="st">'I am coming home'</span>, <span class="st">'goro lovic'</span>, <span class="fl">2020</span>, <span class="fl">9.8</span>, <span class="fl">850</span>, <span class="fl">85</span><span class="op">)</span>
<span class="va">movies</span><span class="op">[</span><span class="fl">6</span>,<span class="op">]</span>
<span class="co">#&gt;   Rank            Title   Director Year Rating Revenue</span>
<span class="co">#&gt; 6    6 I am coming home goro lovic 2020    9.8     850</span>
<span class="co">#&gt;   Metascore</span>
<span class="co">#&gt; 6        85</span>

<span class="co"># updating a row by filtering</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">[</span><span class="va">movies</span><span class="op">$</span><span class="va">Rank</span> <span class="op">==</span> <span class="fl">6</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">6</span>, <span class="st">'I am coming home'</span>, <span class="st">'goro lovic'</span>, <span class="fl">2020</span>, <span class="fl">9.8</span>, <span class="fl">850</span>, <span class="fl">85</span><span class="op">)</span>
<span class="va">movies</span><span class="op">[</span><span class="va">movies</span><span class="op">$</span><span class="va">Rank</span> <span class="op">==</span> <span class="fl">6</span>,<span class="op">]</span>
<span class="co">#&gt;   Rank            Title   Director Year Rating Revenue</span>
<span class="co">#&gt; 6    6 I am coming home goro lovic 2020    9.8     850</span>
<span class="co">#&gt;   Metascore</span>
<span class="co">#&gt; 6        85</span></code></pre></div>
</div>
<div id="updating-a-single-value" class="section level3" number="4.7.4">
<h3>
<span class="header-section-number">4.7.4</span> Updating a single value<a class="anchor" aria-label="anchor" href="#updating-a-single-value"><i class="fas fa-link"></i></a>
</h3>
<p>To update a single value, we select it through subsetting and assign it a new value.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">[</span><span class="va">movies</span><span class="op">$</span><span class="va">Director</span> <span class="op">==</span> <span class="st">'Christopher Nolan'</span>,<span class="op">]</span>
<span class="co">#&gt;     Rank                 Title          Director Year</span>
<span class="co">#&gt; 37    37          Interstellar Christopher Nolan 2014</span>
<span class="co">#&gt; 55    55       The Dark Knight Christopher Nolan 2008</span>
<span class="co">#&gt; 65    65          The Prestige Christopher Nolan 2006</span>
<span class="co">#&gt; 81    81             Inception Christopher Nolan 2010</span>
<span class="co">#&gt; 125  125 The Dark Knight Rises Christopher Nolan 2012</span>
<span class="co">#&gt;     Rating Revenue Metascore</span>
<span class="co">#&gt; 37     8.6  187.99        74</span>
<span class="co">#&gt; 55     9.0  533.32        82</span>
<span class="co">#&gt; 65     8.5   53.08        66</span>
<span class="co">#&gt; 81     8.8  292.57        74</span>
<span class="co">#&gt; 125    8.5  448.13        78</span>

<span class="co"># changing from 'Christopher Nolan' to 'C Nolan' </span>
<span class="va">movies</span><span class="op">[</span><span class="va">movies</span><span class="op">$</span><span class="va">Director</span> <span class="op">==</span> <span class="st">'Christopher Nolan'</span>, <span class="st">'Director'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">'C Nolan'</span>
<span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">37</span>, <span class="fl">55</span>, <span class="fl">65</span>, <span class="fl">81</span>, <span class="fl">125</span><span class="op">)</span>,<span class="op">]</span>
<span class="co">#&gt;     Rank                 Title Director Year Rating Revenue</span>
<span class="co">#&gt; 37    37          Interstellar  C Nolan 2014    8.6  187.99</span>
<span class="co">#&gt; 55    55       The Dark Knight  C Nolan 2008    9.0  533.32</span>
<span class="co">#&gt; 65    65          The Prestige  C Nolan 2006    8.5   53.08</span>
<span class="co">#&gt; 81    81             Inception  C Nolan 2010    8.8  292.57</span>
<span class="co">#&gt; 125  125 The Dark Knight Rises  C Nolan 2012    8.5  448.13</span>
<span class="co">#&gt;     Metascore</span>
<span class="co">#&gt; 37         74</span>
<span class="co">#&gt; 55         82</span>
<span class="co">#&gt; 65         66</span>
<span class="co">#&gt; 81         74</span>
<span class="co">#&gt; 125        78</span></code></pre></div>
</div>
<div id="randomly-selecting-rows" class="section level3" number="4.7.5">
<h3>
<span class="header-section-number">4.7.5</span> Randomly selecting rows<a class="anchor" aria-label="anchor" href="#randomly-selecting-rows"><i class="fas fa-link"></i></a>
</h3>
<p>To select a random sample of rows, we use the function <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code>.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># selecting 10 random rows</span>
<span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, <span class="op">]</span>
<span class="co">#&gt;                    Title Year Revenue Metascore</span>
<span class="co">#&gt; 535      A Quiet Passion 2016    1.08        77</span>
<span class="co">#&gt; 471    American Gangster 2007  130.13        76</span>
<span class="co">#&gt; 728      The Illusionist 2006   39.83        68</span>
<span class="co">#&gt; 789 Hotel Transylvania 2 2015  169.69        44</span>
<span class="co">#&gt; 978        Amateur Night 2016      NA        38</span>
<span class="co">#&gt; 275            Ballerina 2016      NA        NA</span>
<span class="co">#&gt; 905              RoboCop 2014   58.61        52</span>
<span class="co">#&gt; 723            Grown Ups 2010  162.00        30</span>
<span class="co">#&gt; 958         End of Watch 2012   40.98        68</span>
<span class="co">#&gt; 211          San Andreas 2015  155.18        43</span></code></pre></div>
</div>
<div id="br-filter-rows" class="section level3" number="4.7.6">
<h3>
<span class="header-section-number">4.7.6</span> Filtering rows<a class="anchor" aria-label="anchor" href="#br-filter-rows"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/r/base/subset.html">subset()</a></code> or <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> is used to filter rows.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span><span class="op">[</span><span class="va">gapminder_cp1250</span><span class="op">$</span><span class="va">continent</span> <span class="op">==</span> <span class="st">"Europe"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"gdpPercap"</span>, <span class="st">"continent"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt;    country gdpPercap continent</span>
<span class="co">#&gt; 13 Albania  1601.056    Europe</span>
<span class="co">#&gt; 14 Albania  1942.284    Europe</span>
<span class="co">#&gt; 15 Albania  2312.889    Europe</span>
<span class="co">#&gt; 16 Albania  2760.197    Europe</span>
<span class="co">#&gt; 17 Albania  3313.422    Europe</span>
<span class="co">#&gt; 18 Albania  3533.004    Europe</span>
<span class="va">gapminder_cp1250</span><span class="op">[</span><span class="va">gapminder_cp1250</span><span class="op">$</span><span class="va">continent</span> <span class="op">==</span> <span class="st">"Europe"</span> <span class="op">&amp;</span> <span class="va">gapminder_cp1250</span><span class="op">$</span><span class="va">gdpPercap</span> <span class="op">&gt;</span> <span class="fl">2000</span> <span class="op">&amp;</span> <span class="va">gapminder_cp1250</span><span class="op">$</span><span class="va">gdpPercap</span> <span class="op">&lt;</span> <span class="fl">4000</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"gdpPercap"</span>, <span class="st">"continent"</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;                     country gdpPercap continent</span>
<span class="co">#&gt; 15                  Albania  2312.889    Europe</span>
<span class="co">#&gt; 16                  Albania  2760.197    Europe</span>
<span class="co">#&gt; 17                  Albania  3313.422    Europe</span>
<span class="co">#&gt; 18                  Albania  3533.004    Europe</span>
<span class="co">#&gt; 19                  Albania  3630.881    Europe</span>
<span class="co">#&gt; 20                  Albania  3738.933    Europe</span>
<span class="co">#&gt; 21                  Albania  2497.438    Europe</span>
<span class="co">#&gt; 22                  Albania  3193.055    Europe</span>
<span class="co">#&gt; 148  Bosnia and Herzegovina  2172.352    Europe</span>
<span class="co">#&gt; 149  Bosnia and Herzegovina  2860.170    Europe</span>
<span class="co">#&gt; 150  Bosnia and Herzegovina  3528.481    Europe</span>
<span class="co">#&gt; 153  Bosnia and Herzegovina  2546.781    Europe</span>
<span class="co">#&gt; 181                Bulgaria  2444.287    Europe</span>
<span class="co">#&gt; 182                Bulgaria  3008.671    Europe</span>
<span class="co">#&gt; 373                 Croatia  3119.237    Europe</span>
<span class="co">#&gt; 589                  Greece  3530.690    Europe</span>
<span class="co">#&gt; 1009             Montenegro  2647.586    Europe</span>
<span class="co">#&gt; 1010             Montenegro  3682.260    Europe</span>
<span class="co">#&gt; 1237               Portugal  3068.320    Europe</span>
<span class="co">#&gt; 1238               Portugal  3774.572    Europe</span>
<span class="co">#&gt; 1273                Romania  3144.613    Europe</span>
<span class="co">#&gt; 1274                Romania  3943.370    Europe</span>
<span class="co">#&gt; 1333                 Serbia  3581.459    Europe</span>
<span class="co">#&gt; 1417                  Spain  3834.035    Europe</span>
<span class="co">#&gt; 1574                 Turkey  2218.754    Europe</span>
<span class="co">#&gt; 1575                 Turkey  2322.870    Europe</span>
<span class="co">#&gt; 1576                 Turkey  2826.356    Europe</span>
<span class="co">#&gt; 1577                 Turkey  3450.696    Europe</span>
<span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">gapminder_cp1250</span>, 
       subset <span class="op">=</span>  <span class="va">continent</span> <span class="op">==</span> <span class="st">"Europe"</span> <span class="op">&amp;</span> <span class="va">gdpPercap</span> <span class="op">&gt;</span> <span class="fl">2000</span> <span class="op">&amp;</span> <span class="va">gdpPercap</span> <span class="op">&lt;</span> <span class="fl">4000</span>, 
       select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"gdpPercap"</span>, <span class="st">"continent"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                     country gdpPercap continent</span>
<span class="co">#&gt; 15                  Albania  2312.889    Europe</span>
<span class="co">#&gt; 16                  Albania  2760.197    Europe</span>
<span class="co">#&gt; 17                  Albania  3313.422    Europe</span>
<span class="co">#&gt; 18                  Albania  3533.004    Europe</span>
<span class="co">#&gt; 19                  Albania  3630.881    Europe</span>
<span class="co">#&gt; 20                  Albania  3738.933    Europe</span>
<span class="co">#&gt; 21                  Albania  2497.438    Europe</span>
<span class="co">#&gt; 22                  Albania  3193.055    Europe</span>
<span class="co">#&gt; 148  Bosnia and Herzegovina  2172.352    Europe</span>
<span class="co">#&gt; 149  Bosnia and Herzegovina  2860.170    Europe</span>
<span class="co">#&gt; 150  Bosnia and Herzegovina  3528.481    Europe</span>
<span class="co">#&gt; 153  Bosnia and Herzegovina  2546.781    Europe</span>
<span class="co">#&gt; 181                Bulgaria  2444.287    Europe</span>
<span class="co">#&gt; 182                Bulgaria  3008.671    Europe</span>
<span class="co">#&gt; 373                 Croatia  3119.237    Europe</span>
<span class="co">#&gt; 589                  Greece  3530.690    Europe</span>
<span class="co">#&gt; 1009             Montenegro  2647.586    Europe</span>
<span class="co">#&gt; 1010             Montenegro  3682.260    Europe</span>
<span class="co">#&gt; 1237               Portugal  3068.320    Europe</span>
<span class="co">#&gt; 1238               Portugal  3774.572    Europe</span>
<span class="co">#&gt; 1273                Romania  3144.613    Europe</span>
<span class="co">#&gt; 1274                Romania  3943.370    Europe</span>
<span class="co">#&gt; 1333                 Serbia  3581.459    Europe</span>
<span class="co">#&gt; 1417                  Spain  3834.035    Europe</span>
<span class="co">#&gt; 1574                 Turkey  2218.754    Europe</span>
<span class="co">#&gt; 1575                 Turkey  2322.870    Europe</span>
<span class="co">#&gt; 1576                 Turkey  2826.356    Europe</span>
<span class="co">#&gt; 1577                 Turkey  3450.696    Europe</span></code></pre></div>
</div>
<div id="deleting-rows" class="section level3" number="4.7.7">
<h3>
<span class="header-section-number">4.7.7</span> Deleting rows<a class="anchor" aria-label="anchor" href="#deleting-rows"><i class="fas fa-link"></i></a>
</h3>
<p>There is no special function to delete rows, but they can be filtered out using <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code>.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies_without_first10</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fl">11</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt; [1] 1000</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies_without_first10</span><span class="op">)</span>
<span class="co">#&gt; [1] 990</span></code></pre></div>
</div>
</div>
<div id="br-joins" class="section level2" number="4.8">
<h2>
<span class="header-section-number">4.8</span> SQL like joins<a class="anchor" aria-label="anchor" href="#br-joins"><i class="fas fa-link"></i></a>
</h2>
<p>At the most basic level there are four types of SQL joins:</p>
<ul>
<li>Inner join: which returns only rows matched in both data frames</li>
<li>Left join (left outer join): which returns all rows found in the left data frame irrespective of whether they are matched to rows in the right data frame. If rows do not match values in the right data frames, NA values are returned instead.</li>
<li>Right join (right outer join): which is the reverse of the left join, that is it returns all rows found on the right data frame irrespective of whether they are matched on the left data frame.</li>
<li>Outer join (full outer join): returns all rows from both data frames irrespective of whether they are matched or not</li>
</ul>
<div id="inner-join" class="section level3" number="4.8.1">
<h3>
<span class="header-section-number">4.8.1</span> Inner join<a class="anchor" aria-label="anchor" href="#inner-join"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># preparing data</span>
<span class="va">employees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'john'</span>, <span class="st">'mary'</span>, <span class="st">'david'</span>, <span class="st">'paul'</span>, <span class="st">'susan'</span>, <span class="st">'cynthia'</span>, <span class="st">'Joss'</span>, <span class="st">'dennis'</span><span class="op">)</span>,
  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">55</span>, <span class="fl">35</span>, <span class="fl">58</span>, <span class="fl">40</span>, <span class="fl">30</span>, <span class="fl">39</span>, <span class="fl">25</span><span class="op">)</span>,
  gender <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'m'</span>, <span class="st">'f'</span>, <span class="st">'m'</span>, <span class="st">'m'</span>, <span class="st">'f'</span>, <span class="st">'f'</span>, <span class="st">'m'</span>, <span class="st">'m'</span><span class="op">)</span>,
  salary <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">40000</span>, <span class="fl">50000</span>, <span class="fl">35000</span>, <span class="fl">25000</span>, <span class="fl">48000</span>, <span class="fl">32000</span>, <span class="fl">20000</span>, <span class="fl">45000</span><span class="op">)</span>,
  department <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'commercial'</span>, <span class="st">'production'</span>, <span class="cn">NA</span>, <span class="st">'human resources'</span>, 
                 <span class="st">'commercial'</span>, <span class="st">'commercial'</span>, <span class="st">'production'</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="va">employees</span>
<span class="co">#&gt;      name age gender salary      department</span>
<span class="co">#&gt; 1    john  45      m  40000      commercial</span>
<span class="co">#&gt; 2    mary  55      f  50000      production</span>
<span class="co">#&gt; 3   david  35      m  35000            &lt;NA&gt;</span>
<span class="co">#&gt; 4    paul  58      m  25000 human resources</span>
<span class="co">#&gt; 5   susan  40      f  48000      commercial</span>
<span class="co">#&gt; 6 cynthia  30      f  32000      commercial</span>
<span class="co">#&gt; 7    Joss  39      m  20000      production</span>
<span class="co">#&gt; 8  dennis  25      m  45000            &lt;NA&gt;</span>
<span class="va">departments</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  department <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'commercial'</span>, <span class="st">'human resources'</span>, <span class="st">'production'</span>, <span class="st">'finance'</span>, <span class="st">'maintenance'</span><span class="op">)</span>,
  location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'washington'</span>, <span class="st">'london'</span>, <span class="st">'paris'</span>, <span class="st">'dubai'</span>, <span class="st">'dublin'</span><span class="op">)</span><span class="op">)</span>
<span class="va">departments</span>
<span class="co">#&gt;        department   location</span>
<span class="co">#&gt; 1      commercial washington</span>
<span class="co">#&gt; 2 human resources     london</span>
<span class="co">#&gt; 3      production      paris</span>
<span class="co">#&gt; 4         finance      dubai</span>
<span class="co">#&gt; 5     maintenance     dublin</span>

<span class="co"># returns only rows that are matched in both data frames</span>
<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">employees</span>, <span class="va">departments</span>, by <span class="op">=</span> <span class="st">"department"</span><span class="op">)</span>
<span class="co">#&gt;        department    name age gender salary   location</span>
<span class="co">#&gt; 1      commercial    john  45      m  40000 washington</span>
<span class="co">#&gt; 2      commercial   susan  40      f  48000 washington</span>
<span class="co">#&gt; 3      commercial cynthia  30      f  32000 washington</span>
<span class="co">#&gt; 4 human resources    paul  58      m  25000     london</span>
<span class="co">#&gt; 5      production    mary  55      f  50000      paris</span>
<span class="co">#&gt; 6      production    Joss  39      m  20000      paris</span></code></pre></div>
</div>
<div id="left-join" class="section level3" number="4.8.2">
<h3>
<span class="header-section-number">4.8.2</span> Left join<a class="anchor" aria-label="anchor" href="#left-join"><i class="fas fa-link"></i></a>
</h3>
<p>To perform a left join, the argument <code>all.x = TRUE</code> is used.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># returns all the values of the left data frame</span>
<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">employees</span>, <span class="va">departments</span>, by <span class="op">=</span> <span class="st">"department"</span>, all.x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;        department    name age gender salary   location</span>
<span class="co">#&gt; 1      commercial    john  45      m  40000 washington</span>
<span class="co">#&gt; 2      commercial   susan  40      f  48000 washington</span>
<span class="co">#&gt; 3      commercial cynthia  30      f  32000 washington</span>
<span class="co">#&gt; 4 human resources    paul  58      m  25000     london</span>
<span class="co">#&gt; 5      production    mary  55      f  50000      paris</span>
<span class="co">#&gt; 6      production    Joss  39      m  20000      paris</span>
<span class="co">#&gt; 7            &lt;NA&gt;   david  35      m  35000       &lt;NA&gt;</span>
<span class="co">#&gt; 8            &lt;NA&gt;  dennis  25      m  45000       &lt;NA&gt;</span></code></pre></div>
</div>
<div id="right-join" class="section level3" number="4.8.3">
<h3>
<span class="header-section-number">4.8.3</span> Right join<a class="anchor" aria-label="anchor" href="#right-join"><i class="fas fa-link"></i></a>
</h3>
<p>To perform a right join, the argument <code>all.y = TRUE</code> is used.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># returns all the values of the right table</span>
<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">employees</span>, <span class="va">departments</span>, by <span class="op">=</span> <span class="st">"department"</span>, all.y <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;        department    name age gender salary   location</span>
<span class="co">#&gt; 1      commercial    john  45      m  40000 washington</span>
<span class="co">#&gt; 2      commercial   susan  40      f  48000 washington</span>
<span class="co">#&gt; 3      commercial cynthia  30      f  32000 washington</span>
<span class="co">#&gt; 4         finance    &lt;NA&gt;  NA   &lt;NA&gt;     NA      dubai</span>
<span class="co">#&gt; 5 human resources    paul  58      m  25000     london</span>
<span class="co">#&gt; 6     maintenance    &lt;NA&gt;  NA   &lt;NA&gt;     NA     dublin</span>
<span class="co">#&gt; 7      production    mary  55      f  50000      paris</span>
<span class="co">#&gt; 8      production    Joss  39      m  20000      paris</span>

<span class="co"># reversing the tables in the right join produces the same results as the left join</span>
<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">departments</span>, <span class="va">employees</span> , by <span class="op">=</span> <span class="st">"department"</span>, all.y <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;        department   location    name age gender salary</span>
<span class="co">#&gt; 1      commercial washington    john  45      m  40000</span>
<span class="co">#&gt; 2      commercial washington   susan  40      f  48000</span>
<span class="co">#&gt; 3      commercial washington cynthia  30      f  32000</span>
<span class="co">#&gt; 4 human resources     london    paul  58      m  25000</span>
<span class="co">#&gt; 5      production      paris    mary  55      f  50000</span>
<span class="co">#&gt; 6      production      paris    Joss  39      m  20000</span>
<span class="co">#&gt; 7            &lt;NA&gt;       &lt;NA&gt;   david  35      m  35000</span>
<span class="co">#&gt; 8            &lt;NA&gt;       &lt;NA&gt;  dennis  25      m  45000</span></code></pre></div>
</div>
<div id="full-outer-join" class="section level3" number="4.8.4">
<h3>
<span class="header-section-number">4.8.4</span> Full outer join<a class="anchor" aria-label="anchor" href="#full-outer-join"><i class="fas fa-link"></i></a>
</h3>
<p>To perform a full join, the argument <code>all = TRUE</code> is used.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># returns all rows</span>
<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">employees</span>, <span class="va">departments</span>, by <span class="op">=</span> <span class="st">"department"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;         department    name age gender salary   location</span>
<span class="co">#&gt; 1       commercial    john  45      m  40000 washington</span>
<span class="co">#&gt; 2       commercial   susan  40      f  48000 washington</span>
<span class="co">#&gt; 3       commercial cynthia  30      f  32000 washington</span>
<span class="co">#&gt; 4          finance    &lt;NA&gt;  NA   &lt;NA&gt;     NA      dubai</span>
<span class="co">#&gt; 5  human resources    paul  58      m  25000     london</span>
<span class="co">#&gt; 6      maintenance    &lt;NA&gt;  NA   &lt;NA&gt;     NA     dublin</span>
<span class="co">#&gt; 7       production    mary  55      f  50000      paris</span>
<span class="co">#&gt; 8       production    Joss  39      m  20000      paris</span>
<span class="co">#&gt; 9             &lt;NA&gt;   david  35      m  35000       &lt;NA&gt;</span>
<span class="co">#&gt; 10            &lt;NA&gt;  dennis  25      m  45000       &lt;NA&gt;</span></code></pre></div>
</div>
<div id="joining-data-frames-with-different-column-names" class="section level3" number="4.8.5">
<h3>
<span class="header-section-number">4.8.5</span> Joining data frames with different column names<a class="anchor" aria-label="anchor" href="#joining-data-frames-with-different-column-names"><i class="fas fa-link"></i></a>
</h3>
<p>The arguments <code>by.x=</code> and <code>by.y=</code> are used to declare the joining column(s) for the left and right data frames, respectively.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># recreating the employee table</span>
<span class="va">employees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'john'</span>, <span class="st">'mary'</span>, <span class="st">'david'</span>, <span class="st">'paul'</span>, <span class="st">'susan'</span>, <span class="st">'cynthia'</span>, <span class="st">'Joss'</span>, <span class="st">'dennis'</span><span class="op">)</span>,
  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">55</span>, <span class="fl">35</span>, <span class="fl">58</span>, <span class="fl">40</span>, <span class="fl">30</span>, <span class="fl">39</span>, <span class="fl">25</span><span class="op">)</span>,
  gender <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'m'</span>, <span class="st">'f'</span>, <span class="st">'m'</span>, <span class="st">'m'</span>, <span class="st">'f'</span>, <span class="st">'f'</span>, <span class="st">'m'</span>, <span class="st">'m'</span><span class="op">)</span>,
  salary <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">40000</span>, <span class="fl">50000</span>, <span class="fl">35000</span>, <span class="fl">25000</span>, <span class="fl">48000</span>, <span class="fl">32000</span>, <span class="fl">20000</span>, <span class="fl">45000</span><span class="op">)</span>,
  dep_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'commercial'</span>, <span class="st">'production'</span>, <span class="cn">NA</span>, <span class="st">'human resources'</span>, <span class="st">'commercial'</span>, 
               <span class="st">'commercial'</span>, <span class="st">'production'</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">employees</span>, <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt;   name age gender salary   dep_name</span>
<span class="co">#&gt; 1 john  45      m  40000 commercial</span>
<span class="co">#&gt; 2 mary  55      f  50000 production</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">departments</span>, <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt;        department   location</span>
<span class="co">#&gt; 1      commercial washington</span>
<span class="co">#&gt; 2 human resources     london</span>

<span class="co"># joining on columns with different names</span>
<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">employees</span>, <span class="va">departments</span>, by.x <span class="op">=</span> <span class="st">'dep_name'</span>, by.y <span class="op">=</span> <span class="st">'department'</span><span class="op">)</span>
<span class="co">#&gt;          dep_name    name age gender salary   location</span>
<span class="co">#&gt; 1      commercial    john  45      m  40000 washington</span>
<span class="co">#&gt; 2      commercial   susan  40      f  48000 washington</span>
<span class="co">#&gt; 3      commercial cynthia  30      f  32000 washington</span>
<span class="co">#&gt; 4 human resources    paul  58      m  25000     london</span>
<span class="co">#&gt; 5      production    mary  55      f  50000      paris</span>
<span class="co">#&gt; 6      production    Joss  39      m  20000      paris</span></code></pre></div>
</div>
<div id="joining-data-frames-on-one-more-than-one-joining-column" class="section level3" number="4.8.6">
<h3>
<span class="header-section-number">4.8.6</span> Joining data frames on one more than one joining column<a class="anchor" aria-label="anchor" href="#joining-data-frames-on-one-more-than-one-joining-column"><i class="fas fa-link"></i></a>
</h3>
<p>If both data frames contain two or more columns with the same name, <code><a href="https://rdrr.io/r/base/merge.html">merge()</a></code> will try performing the join using those column names.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># recreating the employees table</span>
<span class="va">employees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'john'</span>, <span class="st">'mary'</span>, <span class="st">'david'</span>, <span class="st">'paul'</span>, <span class="st">'susan'</span>, <span class="st">'cynthia'</span>, <span class="st">'Joss'</span>, <span class="st">'dennis'</span><span class="op">)</span>,
  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">55</span>, <span class="fl">35</span>, <span class="fl">58</span>, <span class="fl">40</span>, <span class="fl">30</span>, <span class="fl">39</span>, <span class="fl">25</span><span class="op">)</span>,
  gender <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'m'</span>, <span class="st">'f'</span>, <span class="st">'m'</span>, <span class="st">'m'</span>, <span class="st">'f'</span>, <span class="st">'f'</span>, <span class="st">'m'</span>, <span class="st">'m'</span><span class="op">)</span>,
  salary <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">40000</span>, <span class="fl">50000</span>, <span class="fl">35000</span>, <span class="fl">25000</span>, <span class="fl">48000</span>, <span class="fl">32000</span>, <span class="fl">20000</span>, <span class="fl">45000</span><span class="op">)</span>,
  department <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'commercial'</span>, <span class="st">'production'</span>, <span class="cn">NA</span>, <span class="st">'human resources'</span>, <span class="st">'commercial'</span>, 
                 <span class="st">'commercial'</span>, <span class="st">'production'</span>, <span class="cn">NA</span><span class="op">)</span>,
  subdepartment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'marketing'</span>, <span class="st">'production'</span>, <span class="cn">NA</span>, <span class="st">'human resources'</span>, <span class="st">'sales'</span>, <span class="st">'sales'</span>, 
                    <span class="st">'production'</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">employees</span>, <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt;   name age gender salary department subdepartment</span>
<span class="co">#&gt; 1 john  45      m  40000 commercial     marketing</span>
<span class="co">#&gt; 2 mary  55      f  50000 production    production</span>

<span class="co"># creating the departments? table</span>
<span class="va">departments</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  department <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'commercial'</span>, <span class="st">'commercial'</span>, <span class="st">'human resources'</span>, <span class="st">'production'</span>, <span class="st">'finance'</span>, 
                 <span class="st">'finance'</span>, <span class="st">'maintenance'</span><span class="op">)</span>,
  subdepartment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'marketing'</span>, <span class="st">'sales'</span>, <span class="st">'human resources'</span>, <span class="st">'production'</span>, <span class="st">'finance'</span>, 
                    <span class="st">'accounting'</span>, <span class="st">'maintenance'</span><span class="op">)</span>,
  location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'washington'</span>, <span class="st">'washington'</span>, <span class="st">'london'</span>, <span class="st">'paris'</span>, <span class="st">'dubai'</span>, <span class="st">'dubai'</span>, <span class="st">'dublin'</span><span class="op">)</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">departments</span>, <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt;   department subdepartment   location</span>
<span class="co">#&gt; 1 commercial     marketing washington</span>
<span class="co">#&gt; 2 commercial         sales washington</span>

<span class="co"># because they both contain the same name, the join is performed automatically</span>
<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">employees</span>, <span class="va">departments</span><span class="op">)</span>
<span class="co">#&gt;        department   subdepartment    name age gender salary</span>
<span class="co">#&gt; 1      commercial       marketing    john  45      m  40000</span>
<span class="co">#&gt; 2      commercial           sales   susan  40      f  48000</span>
<span class="co">#&gt; 3      commercial           sales cynthia  30      f  32000</span>
<span class="co">#&gt; 4 human resources human resources    paul  58      m  25000</span>
<span class="co">#&gt; 5      production      production    mary  55      f  50000</span>
<span class="co">#&gt; 6      production      production    Joss  39      m  20000</span>
<span class="co">#&gt;     location</span>
<span class="co">#&gt; 1 washington</span>
<span class="co">#&gt; 2 washington</span>
<span class="co">#&gt; 3 washington</span>
<span class="co">#&gt; 4     london</span>
<span class="co">#&gt; 5      paris</span>
<span class="co">#&gt; 6      paris</span></code></pre></div>
<p>If the data frames had columns of different names to join on, we would have used the arguments <code>by.x=</code> and <code>by.y=</code> to specify them as below.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># specifying joining columns</span>
<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">employees</span>, <span class="va">departments</span>, 
      by.x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'department'</span>, <span class="st">'subdepartment'</span><span class="op">)</span>, 
      by.y <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'department'</span>, <span class="st">'subdepartment'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;        department   subdepartment    name age gender salary</span>
<span class="co">#&gt; 1      commercial       marketing    john  45      m  40000</span>
<span class="co">#&gt; 2      commercial           sales   susan  40      f  48000</span>
<span class="co">#&gt; 3      commercial           sales cynthia  30      f  32000</span>
<span class="co">#&gt; 4 human resources human resources    paul  58      m  25000</span>
<span class="co">#&gt; 5      production      production    mary  55      f  50000</span>
<span class="co">#&gt; 6      production      production    Joss  39      m  20000</span>
<span class="co">#&gt;     location</span>
<span class="co">#&gt; 1 washington</span>
<span class="co">#&gt; 2 washington</span>
<span class="co">#&gt; 3 washington</span>
<span class="co">#&gt; 4     london</span>
<span class="co">#&gt; 5      paris</span>
<span class="co">#&gt; 6      paris</span></code></pre></div>
</div>
</div>
<div id="br-summary" class="section level2" number="4.9">
<h2>
<span class="header-section-number">4.9</span> Aggregating and grouping data<a class="anchor" aria-label="anchor" href="#br-summary"><i class="fas fa-link"></i></a>
</h2>
<p>The function <code><a href="https://rdrr.io/r/stats/aggregate.html">aggregate()</a></code> groups a data frame by a specific column value and performs summarization (sum, mean, median, length, min, max, etc.) based on those groups. It does a split-apply-combine, that is splitting a data frame by groups (category) after which it applies a calculation on each group and finally combines the results back together to create a single data frame which is presented as output.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># preparing data</span>
<span class="va">gapminder_xlsx_2007</span> <span class="op">&lt;-</span> <span class="va">gapminder_xlsx</span><span class="op">[</span><span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">)</span>
<span class="co">#&gt;        country continent year lifeExp      pop  gdpPercap</span>
<span class="co">#&gt; 12 Afghanistan      Asia 2007  43.828 31889923   974.5803</span>
<span class="co">#&gt; 24     Albania    Europe 2007  76.423  3600523  5937.0295</span>
<span class="co">#&gt; 36     Algeria    Africa 2007  72.301 33333216  6223.3675</span>
<span class="co">#&gt; 48      Angola    Africa 2007  42.731 12420476  4797.2313</span>
<span class="co">#&gt; 60   Argentina  Americas 2007  75.320 40301927 12779.3796</span>
<span class="co">#&gt; 72   Australia   Oceania 2007  81.235 20434176 34435.3674</span>
<span class="co">#&gt;    country_hun continent_hun</span>
<span class="co">#&gt; 12 Afganisztán         Ázsia</span>
<span class="co">#&gt; 24     Albánia        Európa</span>
<span class="co">#&gt; 36     Algéria        Afrika</span>
<span class="co">#&gt; 48      Angola        Afrika</span>
<span class="co">#&gt; 60   Argentína       Amerika</span>
<span class="co">#&gt; 72  Ausztrália       Óceánia</span>

<span class="co"># population by continent</span>
<span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">pop</span> <span class="op">~</span> <span class="va">continent</span>, <span class="va">gapminder_xlsx_2007</span>, <span class="va">sum</span><span class="op">)</span>
<span class="co">#&gt;   continent        pop</span>
<span class="co">#&gt; 1    Africa  929539692</span>
<span class="co">#&gt; 2  Americas  898871184</span>
<span class="co">#&gt; 3      Asia 3811953827</span>
<span class="co">#&gt; 4    Europe  586098529</span>
<span class="co">#&gt; 5   Oceania   24549947</span>
<span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">pop</span> <span class="op">~</span> <span class="va">continent</span>, <span class="va">gapminder_xlsx_2007</span>, <span class="va">mean</span><span class="op">)</span>
<span class="co">#&gt;   continent       pop</span>
<span class="co">#&gt; 1    Africa  17875763</span>
<span class="co">#&gt; 2  Americas  35954847</span>
<span class="co">#&gt; 3      Asia 115513752</span>
<span class="co">#&gt; 4    Europe  19536618</span>
<span class="co">#&gt; 5   Oceania  12274974</span></code></pre></div>
<p>The <code><a href="https://rdrr.io/r/stats/aggregate.html">aggregate()</a></code> function above, groups the data frame <code>gapminder_xlsx_2007</code> by continent, after which it applies sum to each group.</p>
<p>Rather than filtering the data before passing it to the <code><a href="https://rdrr.io/r/stats/aggregate.html">aggregate()</a></code> function, we can filter the data directly inside <code><a href="https://rdrr.io/r/stats/aggregate.html">aggregate()</a></code> using the <code>subset=</code> argument.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># filtering with the subset argument</span>
<span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">pop</span> <span class="op">~</span> <span class="va">continent</span>, <span class="va">gapminder_xlsx</span>, 
          subset <span class="op">=</span> <span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span>, 
          <span class="va">sum</span><span class="op">)</span>
<span class="co">#&gt;   continent        pop</span>
<span class="co">#&gt; 1    Africa  929539692</span>
<span class="co">#&gt; 2  Americas  898871184</span>
<span class="co">#&gt; 3      Asia 3811953827</span>
<span class="co">#&gt; 4    Europe  586098529</span>
<span class="co">#&gt; 5   Oceania   24549947</span></code></pre></div>
<p>The <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> sign is used to group by more than one categorical column.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># pop by continent and year</span>
<span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">pop</span> <span class="op">~</span> <span class="va">continent</span> <span class="op">+</span> <span class="va">year</span>, 
          <span class="va">gapminder_xlsx</span>, 
          subset <span class="op">=</span> <span class="va">year</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1987</span>, <span class="fl">2007</span><span class="op">)</span>, 
          <span class="va">sum</span><span class="op">)</span>
<span class="co">#&gt;    continent year        pop</span>
<span class="co">#&gt; 1     Africa 1987  574834110</span>
<span class="co">#&gt; 2   Americas 1987  682753971</span>
<span class="co">#&gt; 3       Asia 1987 2871220762</span>
<span class="co">#&gt; 4     Europe 1987  543094160</span>
<span class="co">#&gt; 5    Oceania 1987   19574415</span>
<span class="co">#&gt; 6     Africa 2007  929539692</span>
<span class="co">#&gt; 7   Americas 2007  898871184</span>
<span class="co">#&gt; 8       Asia 2007 3811953827</span>
<span class="co">#&gt; 9     Europe 2007  586098529</span>
<span class="co">#&gt; 10   Oceania 2007   24549947</span>
<span class="co"># using mean</span>
<span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">pop</span> <span class="op">~</span> <span class="va">continent</span> <span class="op">+</span> <span class="va">year</span>, 
          <span class="va">gapminder_xlsx</span>, 
          subset <span class="op">=</span> <span class="va">year</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1987</span>, <span class="fl">2007</span><span class="op">)</span>, 
          <span class="va">mean</span><span class="op">)</span>
<span class="co">#&gt;    continent year       pop</span>
<span class="co">#&gt; 1     Africa 1987  11054502</span>
<span class="co">#&gt; 2   Americas 1987  27310159</span>
<span class="co">#&gt; 3       Asia 1987  87006690</span>
<span class="co">#&gt; 4     Europe 1987  18103139</span>
<span class="co">#&gt; 5    Oceania 1987   9787208</span>
<span class="co">#&gt; 6     Africa 2007  17875763</span>
<span class="co">#&gt; 7   Americas 2007  35954847</span>
<span class="co">#&gt; 8       Asia 2007 115513752</span>
<span class="co">#&gt; 9     Europe 2007  19536618</span>
<span class="co">#&gt; 10   Oceania 2007  12274974</span></code></pre></div>
<p>The function <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> is used to aggregate on multiple columns, the only problem is that only one summarisation function can be used.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># aggregating on two numeric columns (lifeExp and gdpPercap)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">lifeExp</span>, <span class="va">gdpPercap</span><span class="op">)</span> <span class="op">~</span> <span class="va">continent</span> <span class="op">+</span> <span class="va">year</span>, 
          <span class="va">gapminder_xlsx</span>, 
          subset <span class="op">=</span> <span class="va">year</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1987</span>, <span class="fl">2007</span><span class="op">)</span>, 
          <span class="va">mean</span><span class="op">)</span>
<span class="co">#&gt;    continent year  lifeExp gdpPercap</span>
<span class="co">#&gt; 1     Africa 1987 53.34479  2282.669</span>
<span class="co">#&gt; 2   Americas 1987 68.09072  7793.400</span>
<span class="co">#&gt; 3       Asia 1987 64.85118  7608.227</span>
<span class="co">#&gt; 4     Europe 1987 73.64217 17214.311</span>
<span class="co">#&gt; 5    Oceania 1987 75.32000 20448.040</span>
<span class="co">#&gt; 6     Africa 2007 54.80604  3089.033</span>
<span class="co">#&gt; 7   Americas 2007 73.60812 11003.032</span>
<span class="co">#&gt; 8       Asia 2007 70.72848 12473.027</span>
<span class="co">#&gt; 9     Europe 2007 77.64860 25054.482</span>
<span class="co">#&gt; 10   Oceania 2007 80.71950 29810.188</span>
<span class="co"># rounding with customized function</span>
<span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">lifeExp</span>, <span class="va">gdpPercap</span><span class="op">)</span> <span class="op">~</span> <span class="va">continent</span> <span class="op">+</span> <span class="va">year</span>, 
          <span class="va">gapminder_xlsx</span>, 
          subset <span class="op">=</span> <span class="va">year</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1987</span>, <span class="fl">2007</span><span class="op">)</span>, 
          <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span><span class="op">}</span><span class="op">)</span>
<span class="co">#&gt;    continent year lifeExp gdpPercap</span>
<span class="co">#&gt; 1     Africa 1987    53.3    2282.7</span>
<span class="co">#&gt; 2   Americas 1987    68.1    7793.4</span>
<span class="co">#&gt; 3       Asia 1987    64.9    7608.2</span>
<span class="co">#&gt; 4     Europe 1987    73.6   17214.3</span>
<span class="co">#&gt; 5    Oceania 1987    75.3   20448.0</span>
<span class="co">#&gt; 6     Africa 2007    54.8    3089.0</span>
<span class="co">#&gt; 7   Americas 2007    73.6   11003.0</span>
<span class="co">#&gt; 8       Asia 2007    70.7   12473.0</span>
<span class="co">#&gt; 9     Europe 2007    77.6   25054.5</span>
<span class="co">#&gt; 10   Oceania 2007    80.7   29810.2</span></code></pre></div>
</div>
<div id="br-reshape" class="section level2" number="4.10">
<h2>
<span class="header-section-number">4.10</span> Pivoting and unpivoting data<a class="anchor" aria-label="anchor" href="#br-reshape"><i class="fas fa-link"></i></a>
</h2>
<p>Tabular data exist in two forms: long and wide. The wide form is ideal for reporting while the long form is ideal for the computer. Most often, when performing data analysis, data in the wide form has to be converted to the long form (unpivoting) while when preparing reports, data in the long has to be converted to the wide form (pivoting).</p>
<p><em>wide data</em></p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Person</th>
<th>Age</th>
<th>Weight</th>
<th>Height</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Bob</td>
<td>32</td>
<td>168</td>
<td>180</td>
</tr>
<tr class="even">
<td>Alice</td>
<td>24</td>
<td>150</td>
<td>175</td>
</tr>
<tr class="odd">
<td>Steve</td>
<td>64</td>
<td>144</td>
<td>165</td>
</tr>
</tbody>
</table></div>
<p><em>long data</em></p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Person</th>
<th>Variable</th>
<th>Value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Bob</td>
<td>Age</td>
<td>32</td>
</tr>
<tr class="even">
<td>Bob</td>
<td>Weight</td>
<td>168</td>
</tr>
<tr class="odd">
<td>Bob</td>
<td>Height</td>
<td>180</td>
</tr>
<tr class="even">
<td>Alice</td>
<td>Age</td>
<td>24</td>
</tr>
<tr class="odd">
<td>Alice</td>
<td>Weight</td>
<td>150</td>
</tr>
<tr class="even">
<td>Alice</td>
<td>Height</td>
<td>175</td>
</tr>
<tr class="odd">
<td>Steve</td>
<td>Age</td>
<td>64</td>
</tr>
<tr class="even">
<td>Steve</td>
<td>Weight</td>
<td>144</td>
</tr>
<tr class="odd">
<td>Steve</td>
<td>Height</td>
<td>165</td>
</tr>
</tbody>
</table></div>
<div id="pivoting" class="section level3" number="4.10.1">
<h3>
<span class="header-section-number">4.10.1</span> Pivoting<a class="anchor" aria-label="anchor" href="#pivoting"><i class="fas fa-link"></i></a>
</h3>
<p>Pivoting converts data frame rows to columns.</p>
<div id="pivoting-using-the-reshape-package" class="section level4" number="4.10.1.1">
<h4>
<span class="header-section-number">4.10.1.1</span> Pivoting using the <strong>reshape</strong> package<a class="anchor" aria-label="anchor" href="#pivoting-using-the-reshape-package"><i class="fas fa-link"></i></a>
</h4>
<p>The <strong>reshape</strong> package is a package created for restructuring and aggregating data using just two functions: <code><a href="https://rdrr.io/pkg/reshape/man/melt-24.html">melt()</a></code> and <code><a href="https://rdrr.io/pkg/reshape/man/cast-9g.html">cast()</a></code>.</p>
<p>The function <code><a href="https://rdrr.io/pkg/reshape/man/cast-9g.html">cast()</a></code> pivots data while <code><a href="https://rdrr.io/pkg/reshape/man/melt-24.html">melt()</a></code> unpivots data.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># preparing long data</span>
<span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html">aggregate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">lifeExp</span>, <span class="va">gdpPercap</span><span class="op">)</span> <span class="op">~</span> <span class="va">continent</span> <span class="op">+</span> <span class="va">year</span>, 
                <span class="va">gapminder_xlsx</span>, 
                subset <span class="op">=</span> <span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">1987</span>, 
                <span class="va">mean</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt</span>,<span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;   continent year  lifeExp gdpPercap</span>
<span class="co">#&gt; 1    Africa 1987 53.34479  2282.669</span>
<span class="co">#&gt; 2  Americas 1987 68.09072  7793.400</span>
<span class="co">#&gt; 3      Asia 1987 64.85118  7608.227</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="va">dt</span>,<span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;    continent year  lifeExp gdpPercap</span>
<span class="co">#&gt; 23      Asia 2007 70.72848  12473.03</span>
<span class="co">#&gt; 24    Europe 2007 77.64860  25054.48</span>
<span class="co">#&gt; 25   Oceania 2007 80.71950  29810.19</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://had.co.nz/reshape">reshape</a></span><span class="op">)</span>
<span class="co"># converting from long to wide</span>
<span class="fu"><a href="https://rdrr.io/pkg/reshape/man/cast-9g.html">cast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dt</span>, 
     formula <span class="op">=</span> <span class="va">continent</span> <span class="op">~</span> <span class="va">year</span>, 
     value <span class="op">=</span> <span class="st">'lifeExp'</span><span class="op">)</span>
<span class="co">#&gt;   continent     1987     1992     1997     2002     2007</span>
<span class="co">#&gt; 1    Africa 53.34479 53.62958 53.59827 53.32523 54.80604</span>
<span class="co">#&gt; 2  Americas 68.09072 69.56836 71.15048 72.42204 73.60812</span>
<span class="co">#&gt; 3      Asia 64.85118 66.53721 68.02052 69.23388 70.72848</span>
<span class="co">#&gt; 4    Europe 73.64217 74.44010 75.50517 76.70060 77.64860</span>
<span class="co">#&gt; 5   Oceania 75.32000 76.94500 78.19000 79.74000 80.71950</span></code></pre></div>
<p>The function <code><a href="https://rdrr.io/pkg/reshape/man/cast-9g.html">cast()</a></code> can perform aggregation through the <code>fun.aggregate=</code> argument and filtering through the subset argument.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># summarization</span>
<span class="fu"><a href="https://rdrr.io/pkg/reshape/man/cast-9g.html">cast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder_xlsx_2007</span>, 
     formula <span class="op">=</span> <span class="va">continent</span> <span class="op">~</span> <span class="va">year</span>, 
     value <span class="op">=</span> <span class="st">'pop'</span>, 
     fun.aggregate <span class="op">=</span> <span class="va">sum</span><span class="op">)</span>
<span class="co">#&gt;   continent       2007</span>
<span class="co">#&gt; 1    Africa  929539692</span>
<span class="co">#&gt; 2  Americas  898871184</span>
<span class="co">#&gt; 3      Asia 3811953827</span>
<span class="co">#&gt; 4    Europe  586098529</span>
<span class="co">#&gt; 5   Oceania   24549947</span>

<span class="co"># filtering with subset</span>
<span class="fu"><a href="https://rdrr.io/pkg/reshape/man/cast-9g.html">cast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder_xlsx</span>,
     <span class="va">continent</span> <span class="op">~</span> <span class="va">year</span>,
     subset <span class="op">=</span> <span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">1987</span>,
     value <span class="op">=</span> <span class="st">'lifeExp'</span>, 
     fun.aggregate <span class="op">=</span> <span class="va">mean</span><span class="op">)</span>
<span class="co">#&gt;   continent     1987     1992     1997     2002     2007</span>
<span class="co">#&gt; 1    Africa 53.34479 53.62958 53.59827 53.32523 54.80604</span>
<span class="co">#&gt; 2  Americas 68.09072 69.56836 71.15048 72.42204 73.60812</span>
<span class="co">#&gt; 3      Asia 64.85118 66.53721 68.02052 69.23388 70.72848</span>
<span class="co">#&gt; 4    Europe 73.64217 74.44010 75.50517 76.70060 77.64860</span>
<span class="co">#&gt; 5   Oceania 75.32000 76.94500 78.19000 79.74000 80.71950</span>

<span class="co"># rounding numbers</span>
<span class="fu"><a href="https://rdrr.io/pkg/reshape/man/cast-9g.html">cast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder_xlsx</span>,
     <span class="va">continent</span> <span class="op">~</span> <span class="va">year</span>,
     subset <span class="op">=</span> <span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">1987</span>,
     value <span class="op">=</span> <span class="st">'lifeExp'</span>, 
     fun.aggregate <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   continent 1987 1992 1997 2002 2007</span>
<span class="co">#&gt; 1    Africa 53.3 53.6 53.6 53.3 54.8</span>
<span class="co">#&gt; 2  Americas 68.1 69.6 71.2 72.4 73.6</span>
<span class="co">#&gt; 3      Asia 64.9 66.5 68.0 69.2 70.7</span>
<span class="co">#&gt; 4    Europe 73.6 74.4 75.5 76.7 77.6</span>
<span class="co">#&gt; 5   Oceania 75.3 76.9 78.2 79.7 80.7</span>

<span class="co"># population by year by continent</span>
<span class="fu"><a href="https://rdrr.io/pkg/reshape/man/cast-9g.html">cast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder_xlsx</span>,
     <span class="va">year</span> <span class="op">~</span> <span class="va">continent</span>,
     subset <span class="op">=</span> <span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">1987</span>,
     value <span class="op">=</span> <span class="st">'pop'</span>,
     fun.aggregate <span class="op">=</span> <span class="va">sum</span><span class="op">)</span>
<span class="co">#&gt;   year    Africa  Americas       Asia    Europe  Oceania</span>
<span class="co">#&gt; 1 1987 574834110 682753971 2871220762 543094160 19574415</span>
<span class="co">#&gt; 2 1992 659081517 739274104 3133292191 558142797 20919651</span>
<span class="co">#&gt; 3 1997 743832984 796900410 3383285500 568944148 22241430</span>
<span class="co">#&gt; 4 2002 833723916 849772762 3601802203 578223869 23454829</span>
<span class="co">#&gt; 5 2007 929539692 898871184 3811953827 586098529 24549947</span></code></pre></div>
</div>
<div id="pivoting-using-the-reshape2-package" class="section level4" number="4.10.1.2">
<h4>
<span class="header-section-number">4.10.1.2</span> Pivoting using the <strong>reshape2</strong> package<a class="anchor" aria-label="anchor" href="#pivoting-using-the-reshape2-package"><i class="fas fa-link"></i></a>
</h4>
<p>The <strong>reshape2</strong> package is a reboot of the reshape package.</p>
<p>The function <code>acast()</code> and <code>dcast()</code> are used to pivot data with the former returning a matrix while the later a data frame.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dt_wide</span> <span class="op">&lt;-</span> <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/cast.html">acast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dt</span>, 
                           formula <span class="op">=</span> <span class="va">continent</span> <span class="op">~</span> <span class="va">year</span>, 
                           value.var <span class="op">=</span> <span class="st">'lifeExp'</span><span class="op">)</span>
<span class="va">dt_wide</span>
<span class="co">#&gt;              1987     1992     1997     2002     2007</span>
<span class="co">#&gt; Africa   53.34479 53.62958 53.59827 53.32523 54.80604</span>
<span class="co">#&gt; Americas 68.09072 69.56836 71.15048 72.42204 73.60812</span>
<span class="co">#&gt; Asia     64.85118 66.53721 68.02052 69.23388 70.72848</span>
<span class="co">#&gt; Europe   73.64217 74.44010 75.50517 76.70060 77.64860</span>
<span class="co">#&gt; Oceania  75.32000 76.94500 78.19000 79.74000 80.71950</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">dt_wide</span><span class="op">)</span>
<span class="co">#&gt; [1] "matrix" "array"</span>

<span class="va">dt_wide</span> <span class="op">&lt;-</span> <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/cast.html">dcast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dt</span>, 
                           formula <span class="op">=</span> <span class="va">continent</span> <span class="op">~</span> <span class="va">year</span>, 
                           value.var <span class="op">=</span> <span class="st">'lifeExp'</span><span class="op">)</span>
<span class="va">dt_wide</span>
<span class="co">#&gt;   continent     1987     1992     1997     2002     2007</span>
<span class="co">#&gt; 1    Africa 53.34479 53.62958 53.59827 53.32523 54.80604</span>
<span class="co">#&gt; 2  Americas 68.09072 69.56836 71.15048 72.42204 73.60812</span>
<span class="co">#&gt; 3      Asia 64.85118 66.53721 68.02052 69.23388 70.72848</span>
<span class="co">#&gt; 4    Europe 73.64217 74.44010 75.50517 76.70060 77.64860</span>
<span class="co">#&gt; 5   Oceania 75.32000 76.94500 78.19000 79.74000 80.71950</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">dt_wide</span><span class="op">)</span>
<span class="co">#&gt; [1] "data.frame"</span>

<span class="co"># filtering by year</span>
<span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/cast.html">dcast</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">gapminder_xlsx</span><span class="op">[</span><span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">1987</span>,<span class="op">]</span>, 
                formula <span class="op">=</span> <span class="va">continent</span> <span class="op">~</span> <span class="va">year</span>, 
                value.var <span class="op">=</span> <span class="st">'lifeExp'</span>, 
                fun.aggregate <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   continent 1987 1992 1997 2002 2007</span>
<span class="co">#&gt; 1    Africa 53.3 53.6 53.6 53.3 54.8</span>
<span class="co">#&gt; 2  Americas 68.1 69.6 71.2 72.4 73.6</span>
<span class="co">#&gt; 3      Asia 64.9 66.5 68.0 69.2 70.7</span>
<span class="co">#&gt; 4    Europe 73.6 74.4 75.5 76.7 77.6</span>
<span class="co">#&gt; 5   Oceania 75.3 76.9 78.2 79.7 80.7</span></code></pre></div>
</div>
</div>
<div id="unpivoting" class="section level3" number="4.10.2">
<h3>
<span class="header-section-number">4.10.2</span> Unpivoting<a class="anchor" aria-label="anchor" href="#unpivoting"><i class="fas fa-link"></i></a>
</h3>
<p>Unpivoting converts data frame columns to rows.</p>
<p>The function <code><a href="https://rdrr.io/pkg/reshape/man/melt-24.html">melt()</a></code> is used to unpivot data. It accepts the following:</p>
<ul>
<li>
<code>id.vars=</code>: columns not to be moved</li>
<li>
<code>measure.vars=</code>: columns to move to rows</li>
</ul>
<p>but can guess both by default.</p>
<p>It is the same function name for <strong>reshape</strong> and <strong>reshape2</strong>.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dt_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/reshape/man/melt-24.html">melt</a></span><span class="op">(</span><span class="va">dt_wide</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt_long</span><span class="op">)</span>
<span class="co">#&gt;   continent variable    value</span>
<span class="co">#&gt; 1    Africa     1987 53.34479</span>
<span class="co">#&gt; 2  Americas     1987 68.09072</span>
<span class="co">#&gt; 3      Asia     1987 64.85118</span>
<span class="co">#&gt; 4    Europe     1987 73.64217</span>
<span class="co">#&gt; 5   Oceania     1987 75.32000</span>
<span class="co">#&gt; 6    Africa     1992 53.62958</span>

<span class="va">dt_long</span> <span class="op">&lt;-</span> <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt</a></span><span class="op">(</span><span class="va">dt_wide</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt_long</span><span class="op">)</span>
<span class="co">#&gt;   continent variable    value</span>
<span class="co">#&gt; 1    Africa     1987 53.34479</span>
<span class="co">#&gt; 2  Americas     1987 68.09072</span>
<span class="co">#&gt; 3      Asia     1987 64.85118</span>
<span class="co">#&gt; 4    Europe     1987 73.64217</span>
<span class="co">#&gt; 5   Oceania     1987 75.32000</span>
<span class="co">#&gt; 6    Africa     1992 53.62958</span></code></pre></div>
<p>With the argument <code>measure.vars=</code>, we can filter the data frame.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># adding a variable name and filtering data</span>
<span class="va">dt_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/reshape/man/melt-24.html">melt</a></span><span class="op">(</span><span class="va">dt_wide</span>, 
                id.vars <span class="op">=</span> <span class="st">'continent'</span>, 
                variable_name <span class="op">=</span> <span class="st">'Year'</span>,
                measure.vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'1997'</span>, <span class="st">'2002'</span>, <span class="st">'2007'</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt_long</span><span class="op">)</span>
<span class="co">#&gt;   continent Year    value</span>
<span class="co">#&gt; 1    Africa 1997 53.59827</span>
<span class="co">#&gt; 2  Americas 1997 71.15048</span>
<span class="co">#&gt; 3      Asia 1997 68.02052</span>
<span class="co">#&gt; 4    Europe 1997 75.50517</span>
<span class="co">#&gt; 5   Oceania 1997 78.19000</span>
<span class="co">#&gt; 6    Africa 2002 53.32523</span>

<span class="co"># adding value, variable name, and filtering data</span>
<span class="va">dt_long</span> <span class="op">&lt;-</span> <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt</a></span><span class="op">(</span><span class="va">dt_wide</span>, 
                          id.vars <span class="op">=</span> <span class="st">'continent'</span>, 
                          variable.name <span class="op">=</span> <span class="st">'Year'</span>,
                          value.name <span class="op">=</span> <span class="st">'lifeExp'</span>, 
                          measure.vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'1997'</span>, <span class="st">'2002'</span>, <span class="st">'2007'</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt_long</span><span class="op">)</span>
<span class="co">#&gt;   continent Year  lifeExp</span>
<span class="co">#&gt; 1    Africa 1997 53.59827</span>
<span class="co">#&gt; 2  Americas 1997 71.15048</span>
<span class="co">#&gt; 3      Asia 1997 68.02052</span>
<span class="co">#&gt; 4    Europe 1997 75.50517</span>
<span class="co">#&gt; 5   Oceania 1997 78.19000</span>
<span class="co">#&gt; 6    Africa 2002 53.32523</span></code></pre></div>
</div>
</div>
<div id="detecting-and-dealing-with-missing-values" class="section level2" number="4.11">
<h2>
<span class="header-section-number">4.11</span> Detecting and dealing with missing values<a class="anchor" aria-label="anchor" href="#detecting-and-dealing-with-missing-values"><i class="fas fa-link"></i></a>
</h2>
<p>The functions <code><a href="https://rdrr.io/r/base/NA.html">anyNA()</a></code> and <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> are used to check for <code>NA</code> values and return <code>TRUE</code> for <code>NA</code> value and <code>FALSE</code> for non-NA value. While the former checks if an object contains any missing value, the latter checks for missing values within an object.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">7</span>,<span class="fl">11</span>,<span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt;                     Title Year Revenue Metascore</span>
<span class="co">#&gt; 1 Guardians of the Galaxy 2014  333.13        76</span>
<span class="co">#&gt; 2              Prometheus 2012  126.46        65</span>
<span class="co">#&gt; 3                   Split 2016  138.12        62</span>
<span class="co">#&gt; 4                    Sing 2016  270.32        59</span>
<span class="co">#&gt; 5           Suicide Squad 2016  325.02        40</span>
<span class="co">#&gt; 6          The Great Wall 2016   45.13        42</span>

<span class="co"># checking if an object contains any NA</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">anyNA</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">anyNA</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">anyNA</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co"># checking if data frame contains any NA values</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">anyNA</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">movies</span>, <span class="fl">2</span>, <span class="va">anyNA</span><span class="op">)</span>
<span class="co">#&gt;     Title      Year   Revenue Metascore </span>
<span class="co">#&gt;     FALSE     FALSE      TRUE      TRUE</span>
<span class="co"># checking for NA values within an object</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE FALSE FALSE  TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE FALSE FALSE  TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;      Title  Year Revenue Metascore</span>
<span class="co">#&gt; [1,] FALSE FALSE   FALSE     FALSE</span>
<span class="co">#&gt; [2,] FALSE FALSE   FALSE     FALSE</span>
<span class="co">#&gt; [3,] FALSE FALSE   FALSE     FALSE</span>
<span class="co">#&gt; [4,] FALSE FALSE   FALSE     FALSE</span>
<span class="co">#&gt; [5,] FALSE FALSE   FALSE     FALSE</span>
<span class="co">#&gt; [6,] FALSE FALSE   FALSE     FALSE</span></code></pre></div>
<p>Since logical can be added, with <code>FALSE</code> = 0 and <code>TRUE</code> = 1, the results of <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> can be added to determine the number of <code>NA</code> values in the dataset.</p>
<p>To get the total number of <code>NA</code> values by columns, the function <code><a href="https://rdrr.io/r/base/colSums.html">colSums()</a></code> is used instead as it does addition by columns rather than the whole data frame.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># number of na values in a dataset</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 192</span>

<span class="co"># number of na values in each column</span>
<span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;     Title      Year   Revenue Metascore </span>
<span class="co">#&gt;         0         0       128        64</span></code></pre></div>
<p>To get the number of non-NA values within each column, we simply reverse the results of <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> with the not operator (!) or subtract from the total number of rows in the data frame.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># number of non-NA values within each column</span>
<span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;     Title      Year   Revenue Metascore </span>
<span class="co">#&gt;      1000      1000       872       936</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;     Title      Year   Revenue Metascore </span>
<span class="co">#&gt;      1000      1000       872       936</span></code></pre></div>
<p>To get the number of rows containing non-NA values, we use the function <code><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases()</a></code> which returns <code>TRUE</code> for rows without <code>NA</code> values and <code>FALSE</code> for rows with <code>NA</code> values. Summing its result gives us the number of rows without <code>NA</code> values (complete cases). We can equally reverse <code><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases()</a></code> with the not operator to obtain the number of rows with NA values or subtract from the total number of rows.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># number of rows without NA values</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 838</span>
<span class="co"># number of rows with one or more NA values</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 162</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 162</span></code></pre></div>
<p>Using <code><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases()</a></code>, we can filter out either rows with NA values or rows without <code>NA</code> values.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># selecting rows without NA</span>
<span class="va">no_na_movies</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">no_na_movies</span>, <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;                                      Title Year Revenue</span>
<span class="co">#&gt; 1                  Guardians of the Galaxy 2014  333.13</span>
<span class="co">#&gt; 2                               Prometheus 2012  126.46</span>
<span class="co">#&gt; 3                                    Split 2016  138.12</span>
<span class="co">#&gt; 4                                     Sing 2016  270.32</span>
<span class="co">#&gt; 5                            Suicide Squad 2016  325.02</span>
<span class="co">#&gt; 6                           The Great Wall 2016   45.13</span>
<span class="co">#&gt; 7                               La La Land 2016  151.06</span>
<span class="co">#&gt; 9                       The Lost City of Z 2016    8.01</span>
<span class="co">#&gt; 10                              Passengers 2016  100.01</span>
<span class="co">#&gt; 11 Fantastic Beasts and Where to Find Them 2016  234.02</span>
<span class="co">#&gt;    Metascore</span>
<span class="co">#&gt; 1         76</span>
<span class="co">#&gt; 2         65</span>
<span class="co">#&gt; 3         62</span>
<span class="co">#&gt; 4         59</span>
<span class="co">#&gt; 5         40</span>
<span class="co">#&gt; 6         42</span>
<span class="co">#&gt; 7         93</span>
<span class="co">#&gt; 9         78</span>
<span class="co">#&gt; 10        41</span>
<span class="co">#&gt; 11        66</span>

<span class="co"># selecting rows with NA</span>
<span class="va">na_movies</span> <span class="op">&lt;-</span> <span class="va">movies</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">movies</span><span class="op">)</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">na_movies</span>, <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;                      Title Year Revenue Metascore</span>
<span class="co">#&gt; 8                 Mindhorn 2016      NA        71</span>
<span class="co">#&gt; 23          Hounds of Love 2016      NA        72</span>
<span class="co">#&gt; 26         Paris pieds nus 2016      NA        NA</span>
<span class="co">#&gt; 27 Bahubali: The Beginning 2015    6.50        NA</span>
<span class="co">#&gt; 28              Dead Awake 2016    0.01        NA</span>
<span class="co">#&gt; 40               5- 25- 77 2007      NA        NA</span>
<span class="co">#&gt; 43 Don't Fuck in the Woods 2016      NA        NA</span>
<span class="co">#&gt; 48                  Fallen 2016      NA        NA</span>
<span class="co">#&gt; 50           The Last Face 2016      NA        16</span>
<span class="co">#&gt; 62 The Autopsy of Jane Doe 2016      NA        65</span></code></pre></div>
</div>
<div id="detecting-and-dealing-with-outliers" class="section level2" number="4.12">
<h2>
<span class="header-section-number">4.12</span> Detecting and dealing with outliers<a class="anchor" aria-label="anchor" href="#detecting-and-dealing-with-outliers"><i class="fas fa-link"></i></a>
</h2>
<div id="what-is-an-outlier" class="section level3" number="4.12.1">
<h3>
<span class="header-section-number">4.12.1</span> What is an outlier?<a class="anchor" aria-label="anchor" href="#what-is-an-outlier"><i class="fas fa-link"></i></a>
</h3>
<p>Outliers also known as anomalies are values that deviate extremely from other values within the same group of data. They occur because of errors committed while collecting or recording data, performing calculations or are just data points with extreme values.</p>
</div>
<div id="identifying-outlier" class="section level3" number="4.12.2">
<h3>
<span class="header-section-number">4.12.2</span> Identifying outlier<a class="anchor" aria-label="anchor" href="#identifying-outlier"><i class="fas fa-link"></i></a>
</h3>
<div id="using-summary-statistics" class="section level4" number="4.12.2.1">
<h4>
<span class="header-section-number">4.12.2.1</span> Using summary statistics<a class="anchor" aria-label="anchor" href="#using-summary-statistics"><i class="fas fa-link"></i></a>
</h4>
<p>The first step in outlier detection is to look at summary statistics, most especially the minimum, maximum, median, and mean. For example, with a dataset of people’s ages, if the maximum is 200 or the minimum is negative, then there is a problem.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder_xlsx_2007</span> <span class="op">&lt;-</span> <span class="va">gapminder_xlsx</span><span class="op">[</span><span class="va">gapminder_xlsx</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">)</span>
<span class="co">#&gt;        country continent year lifeExp      pop  gdpPercap</span>
<span class="co">#&gt; 12 Afghanistan      Asia 2007  43.828 31889923   974.5803</span>
<span class="co">#&gt; 24     Albania    Europe 2007  76.423  3600523  5937.0295</span>
<span class="co">#&gt; 36     Algeria    Africa 2007  72.301 33333216  6223.3675</span>
<span class="co">#&gt; 48      Angola    Africa 2007  42.731 12420476  4797.2313</span>
<span class="co">#&gt; 60   Argentina  Americas 2007  75.320 40301927 12779.3796</span>
<span class="co">#&gt; 72   Australia   Oceania 2007  81.235 20434176 34435.3674</span>
<span class="co">#&gt;    country_hun continent_hun</span>
<span class="co">#&gt; 12 Afganisztán         Ázsia</span>
<span class="co">#&gt; 24     Albánia        Európa</span>
<span class="co">#&gt; 36     Algéria        Afrika</span>
<span class="co">#&gt; 48      Angola        Afrika</span>
<span class="co">#&gt; 60   Argentína       Amerika</span>
<span class="co">#&gt; 72  Ausztrália       Óceánia</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">pop</span><span class="op">/</span><span class="fl">1e6</span><span class="op">)</span>
<span class="co">#&gt;      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. </span>
<span class="co">#&gt;    0.1996    4.5080   10.5175   44.0212   31.2100 1318.6831</span></code></pre></div>
<p>From the above, we see that the median and mean are 10 million and 44 million respectively while the maximum value is 1.3 billion. This tells us that there are some outliers since the maximum value varies greatly from the centre of the data.</p>
</div>
<div id="using-plots" class="section level4" number="4.12.2.2">
<h4>
<span class="header-section-number">4.12.2.2</span> Using plots<a class="anchor" aria-label="anchor" href="#using-plots"><i class="fas fa-link"></i></a>
</h4>
<p>Outliers are identified using univariate plots such as histogram, density plot and boxplot.</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># plotting variable using histogram</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span>, breaks <span class="op">=</span> <span class="fl">18</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="03-datamanipulation_files/figure-html/unnamed-chunk-52-1.png" width="672"></div>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># density plot</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="03-datamanipulation_files/figure-html/unnamed-chunk-52-2.png" width="672"></div>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># boxplot of population</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="03-datamanipulation_files/figure-html/unnamed-chunk-52-3.png" width="672"></div>
<p>Of the above data visualizations, the boxplot is the most relevant as it shows both the spread of data and outliers. The boxplot reveals the following:</p>
<ul>
<li>minimum value,</li>
<li>first quantile (Q1),</li>
<li>median (second quantile),</li>
<li>third quantile (Q3),</li>
<li>maximum value excluding outliers and</li>
<li>outliers.</li>
</ul>
<p>The difference between Q3 and Q1 is known as the Interquartile Range (IQR). The outliers within the box plot are calculated as any value that falls beyond 1.5 * IQR.</p>
<p>The function <code><a href="https://rdrr.io/r/grDevices/boxplot.stats.html">boxplot.stats()</a></code> computes the data that is used to draw the box plot. Using this function, we can get our outliers.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/grDevices/boxplot.stats.html">boxplot.stats</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span><span class="op">)</span>
<span class="co">#&gt; $stats</span>
<span class="co">#&gt; [1]   277.5519  1598.4351  6124.3711 18008.9444 40675.9964</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $n</span>
<span class="co">#&gt; [1] 142</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $conf</span>
<span class="co">#&gt; [1] 3948.491 8300.251</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $out</span>
<span class="co">#&gt; [1] 47306.99 49357.19 47143.18 42951.65</span></code></pre></div>
<p>The first element returned is the summary statistic as was calculated with <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code>.</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/grDevices/boxplot.stats.html">boxplot.stats</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">$</span><span class="va">stats</span>
<span class="co">#&gt; [1]   277.5519  1598.4351  6124.3711 18008.9444 40675.9964</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;   277.6  1624.8  6124.4 11680.1 18008.8 49357.2</span></code></pre></div>
<p>The last element returned are the outliers.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/grDevices/boxplot.stats.html">boxplot.stats</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">$</span><span class="va">out</span>
<span class="co">#&gt; [1] 47306.99 49357.19 47143.18 42951.65</span></code></pre></div>
<p>Recall outliers are calculated as 1.5 * IQR, this can be changed using the argument coef. By default, it is set to 1.5 but can be changed as need be.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># changing coef</span>
<span class="fu"><a href="https://rdrr.io/r/grDevices/boxplot.stats.html">boxplot.stats</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span>, coef <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span><span class="op">$</span><span class="va">out</span>
<span class="co">#&gt;  [1] 34435.37 36126.49 33692.61 36319.24 35278.42 33207.08</span>
<span class="co">#&gt;  [7] 32170.37 39724.98 36180.79 40676.00 31656.07 47306.99</span>
<span class="co">#&gt; [13] 36797.93 49357.19 47143.18 33859.75 37506.42 33203.26</span>
<span class="co">#&gt; [19] 42951.65</span>
<span class="fu"><a href="https://rdrr.io/r/grDevices/boxplot.stats.html">boxplot.stats</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span>, coef <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">out</span>
<span class="co">#&gt;  [1] 34435.37 36126.49 36319.24 35278.42 39724.98 36180.79</span>
<span class="co">#&gt;  [7] 40676.00 47306.99 36797.93 49357.19 47143.18 37506.42</span>
<span class="co">#&gt; [13] 42951.65</span>
<span class="fu"><a href="https://rdrr.io/r/grDevices/boxplot.stats.html">boxplot.stats</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span>, coef <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span><span class="op">$</span><span class="va">out</span>
<span class="co">#&gt; [1] 39724.98 40676.00 47306.99 49357.19 47143.18 42951.65</span>

<span class="co"># selecting outliers</span>
<span class="va">gapminder_xlsx_2007</span><span class="op">[</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/boxplot.stats.html">boxplot.stats</a></span><span class="op">(</span><span class="va">gapminder_xlsx_2007</span><span class="op">$</span><span class="va">gdpPercap</span><span class="op">)</span><span class="op">$</span><span class="va">out</span><span class="op">)</span>,<span class="op">]</span>
<span class="co">#&gt;            country continent year lifeExp       pop</span>
<span class="co">#&gt; 864         Kuwait      Asia 2007  77.588   2505559</span>
<span class="co">#&gt; 1152        Norway    Europe 2007  80.196   4627926</span>
<span class="co">#&gt; 1368     Singapore      Asia 2007  79.972   4553009</span>
<span class="co">#&gt; 1620 United States  Americas 2007  78.242 301139947</span>
<span class="co">#&gt;      gdpPercap      country_hun continent_hun</span>
<span class="co">#&gt; 864   47306.99           Kuvait         Ázsia</span>
<span class="co">#&gt; 1152  49357.19         Norvégia        Európa</span>
<span class="co">#&gt; 1368  47143.18        Szingapúr         Ázsia</span>
<span class="co">#&gt; 1620  42951.65 Egyesült Államok       Amerika</span></code></pre></div>
</div>
</div>
</div>
<div id="dealing-with-duplicate-values" class="section level2" number="4.13">
<h2>
<span class="header-section-number">4.13</span> Dealing with duplicate values<a class="anchor" aria-label="anchor" href="#dealing-with-duplicate-values"><i class="fas fa-link"></i></a>
</h2>
<div id="determining-duplicate-values" class="section level3" number="4.13.1">
<h3>
<span class="header-section-number">4.13.1</span> Determining duplicate values<a class="anchor" aria-label="anchor" href="#determining-duplicate-values"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/r/base/duplicated.html">duplicated()</a></code> determines which elements are duplicates in a vector or data frame while the function <code><a href="https://rdrr.io/r/base/duplicated.html">anyDuplicated()</a></code> returns the index position of the first duplicate.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># checking for duplicates</span>
<span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [10] FALSE</span>

<span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE</span>
<span class="co">#&gt; [10]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE</span>

<span class="co"># get duplicate values</span>
<span class="va">vt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">0</span><span class="op">)</span>
<span class="va">vt</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1] 2 3 3 2 2 4 0</span>

<span class="co"># checking if an object contains any duplicates</span>
<span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>

<span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="co"># get the first duplicate position</span>
<span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">anyDuplicated</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span>

<span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">anyDuplicated</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 5</span></code></pre></div>
<p>The function <code><a href="https://rdrr.io/r/base/duplicated.html">duplicated()</a></code> and <code><a href="https://rdrr.io/r/base/duplicated.html">anyDuplicated()</a></code> also work on data frames. The former drops unique rows while keeping duplicate rows.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">movies_2006</span> <span class="op">&lt;-</span> <span class="va">mov</span><span class="op">[</span><span class="va">mov</span><span class="op">$</span><span class="va">Year</span> <span class="op">==</span> <span class="fl">2006</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">12</span><span class="op">)</span><span class="op">]</span>
<span class="va">movies_2006</span> <span class="op">&lt;-</span> <span class="va">movies_2006</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">movies_2006</span><span class="op">$</span><span class="va">Year</span>, <span class="va">movies_2006</span><span class="op">$</span><span class="va">Metascore</span><span class="op">)</span>,<span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_2006</span><span class="op">)</span>
<span class="co">#&gt;     Year Metascore</span>
<span class="co">#&gt; 774 2006        36</span>
<span class="co">#&gt; 309 2006        45</span>
<span class="co">#&gt; 551 2006        45</span>
<span class="co">#&gt; 594 2006        45</span>
<span class="co">#&gt; 734 2006        46</span>
<span class="co">#&gt; 531 2006        47</span>

<span class="co"># checking for any duplicates</span>
<span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">movies_2006</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">anyDuplicated</a></span><span class="op">(</span><span class="va">movies_2006</span><span class="op">)</span>
<span class="co">#&gt; [1] 3</span>

<span class="co"># checking for duplicates</span>
<span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">movies_2006</span><span class="op">)</span>
<span class="co">#&gt;  [1] FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [10]  TRUE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE FALSE</span>
<span class="co">#&gt; [19]  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE</span>
<span class="co">#&gt; [28] FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE</span>
<span class="co">#&gt; [37] FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE  TRUE</span>

<span class="co"># returning duplicates</span>
<span class="va">movies_2006_dup</span> <span class="op">&lt;-</span> <span class="va">movies_2006</span> <span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">movies_2006</span><span class="op">)</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_2006_dup</span><span class="op">)</span>
<span class="co">#&gt;     Year Metascore</span>
<span class="co">#&gt; 551 2006        45</span>
<span class="co">#&gt; 594 2006        45</span>
<span class="co">#&gt; 859 2006        52</span>
<span class="co">#&gt; 960 2006        53</span>
<span class="co">#&gt; 902 2006        58</span>
<span class="co">#&gt; 670 2006        64</span></code></pre></div>
</div>
<div id="get-unique-values" class="section level3" number="4.13.2">
<h3>
<span class="header-section-number">4.13.2</span> Get unique values<a class="anchor" aria-label="anchor" href="#get-unique-values"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/r/base/unique.html">unique()</a></code> extracts unique values from a vector or data frame.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># return unique values</span>
<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>

<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 2 1 3 6 4 7 0 8</span>

<span class="co"># return unique values using duplicated()</span>
<span class="va">vt</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">7</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt; [1] 2 1 3 6 4 7 0 8</span>

<span class="co"># returning unique rows</span>
<span class="va">movies_2006_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">movies_2006</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_2006_uni</span><span class="op">)</span>
<span class="co">#&gt;     Year Metascore</span>
<span class="co">#&gt; 774 2006        36</span>
<span class="co">#&gt; 309 2006        45</span>
<span class="co">#&gt; 734 2006        46</span>
<span class="co">#&gt; 531 2006        47</span>
<span class="co">#&gt; 321 2006        48</span>
<span class="co">#&gt; 775 2006        51</span>

<span class="co"># returning unique rows using duplicated()</span>
<span class="va">movies_2006_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">movies_2006</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">movies_2006</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">movies_2006_uni</span><span class="op">)</span>
<span class="co">#&gt;     Year Metascore</span>
<span class="co">#&gt; 774 2006        36</span>
<span class="co">#&gt; 309 2006        45</span>
<span class="co">#&gt; 734 2006        46</span>
<span class="co">#&gt; 531 2006        47</span>
<span class="co">#&gt; 321 2006        48</span>
<span class="co">#&gt; 775 2006        51</span></code></pre></div>
</div>
</div>
<div id="br-factor" class="section level2" number="4.14">
<h2>
<span class="header-section-number">4.14</span> Factors in Base R<a class="anchor" aria-label="anchor" href="#br-factor"><i class="fas fa-link"></i></a>
</h2>
<div id="what-are-factors" class="section level3" number="4.14.1">
<h3>
<span class="header-section-number">4.14.1</span> What are factors?<a class="anchor" aria-label="anchor" href="#what-are-factors"><i class="fas fa-link"></i></a>
</h3>
<p>Factors are variables in R which take on a limited number of different values which are usually known as categorical values e.g. male and female or months of the year. They can contain either strings or integers but are stored internally as a vector of integers with each integer corresponding to one category.
Factors can either be ordered or unordered e.g. low, medium, high for ordered and male or female for unordered.</p>
</div>
<div id="creating-a-factor" class="section level3" number="4.14.2">
<h3>
<span class="header-section-number">4.14.2</span> Creating a factor<a class="anchor" aria-label="anchor" href="#creating-a-factor"><i class="fas fa-link"></i></a>
</h3>
<p>While the function <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> is used to create a factor, the function <code><a href="https://rdrr.io/r/base/factor.html">is.factor()</a></code> is used to check for factor.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># creating a factor</span>
<span class="op">(</span><span class="va">fac</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] female male   male   female male   male   male   female</span>
<span class="co">#&gt; Levels: female male</span>

<span class="co"># looking at type and class</span>
<span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; [1] "integer"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; [1] "factor"</span>

<span class="co"># checking if the object is a factor</span>
<span class="fu"><a href="https://rdrr.io/r/base/factor.html">is.factor</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="factor-attributes-and-structure" class="section level3" number="4.14.3">
<h3>
<span class="header-section-number">4.14.3</span> Factor attributes and structure<a class="anchor" aria-label="anchor" href="#factor-attributes-and-structure"><i class="fas fa-link"></i></a>
</h3>
<p>A factor has as attribute levels which represent the categories of the factor.
The function <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> is used to get and set levels while <code><a href="https://rdrr.io/r/base/nlevels.html">nlevels()</a></code> returns the number of categories.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get levels</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; [1] "female" "male"</span>

<span class="co"># set levels</span>
<span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'f'</span>, <span class="st">'m'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "f" "m"</span>

<span class="co"># resetting levels</span>
<span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'female'</span>, <span class="st">'male'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "female" "male"</span>

<span class="co"># number of categories</span>
<span class="fu"><a href="https://rdrr.io/r/base/nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; [1] 2</span>

<span class="co"># structure of the factor</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt;  Factor w/ 2 levels "female","male": 1 2 2 1 2 2 2 1</span>

<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; $levels</span>
<span class="co">#&gt; [1] "female" "male"  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "factor"</span>

<span class="co"># count of elements by category</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; fac</span>
<span class="co">#&gt; female   male </span>
<span class="co">#&gt;      3      5</span>

<span class="co"># internally factors are stored as integers</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">unclass</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 2 1 2 2 2 1</span>
<span class="co">#&gt; attr(,"levels")</span>
<span class="co">#&gt; [1] "female" "male"</span></code></pre></div>
</div>
<div id="rearranging-levels" class="section level3" number="4.14.4">
<h3>
<span class="header-section-number">4.14.4</span> Rearranging levels<a class="anchor" aria-label="anchor" href="#rearranging-levels"><i class="fas fa-link"></i></a>
</h3>
<p>The argument levels is used to rearrange the levels of a factor.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lev</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span>
<span class="op">(</span><span class="va">fac1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span>, 
               levels <span class="op">=</span> <span class="va">lev</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] female male   male   female male   male   male   female</span>
<span class="co">#&gt; Levels: male female</span>

<span class="co"># comparing fac and fac1</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; $levels</span>
<span class="co">#&gt; [1] "female" "male"  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "factor"</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">fac1</span><span class="op">)</span>
<span class="co">#&gt; $levels</span>
<span class="co">#&gt; [1] "male"   "female"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "factor"</span>

<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span> 
<span class="co">#&gt; fac</span>
<span class="co">#&gt; female   male </span>
<span class="co">#&gt;      3      5</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">fac1</span><span class="op">)</span>
<span class="co">#&gt; fac1</span>
<span class="co">#&gt;   male female </span>
<span class="co">#&gt;      5      3</span></code></pre></div>
</div>
<div id="dropping-levels" class="section level3" number="4.14.5">
<h3>
<span class="header-section-number">4.14.5</span> Dropping levels<a class="anchor" aria-label="anchor" href="#dropping-levels"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/r/base/droplevels.html">droplevels()</a></code> is used to drop unused levels from a factor.</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">fac1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span>, 
               levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'boy'</span>, <span class="st">'girl'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] female male   male   female male   male   male   female</span>
<span class="co">#&gt; Levels: male female boy girl</span>
<span class="op">(</span><span class="va">fac1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/droplevels.html">droplevels</a></span><span class="op">(</span><span class="va">fac1</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] female male   male   female male   male   male   female</span>
<span class="co">#&gt; Levels: male female</span></code></pre></div>
</div>
<div id="changing-labels" class="section level3" number="4.14.6">
<h3>
<span class="header-section-number">4.14.6</span> Changing labels<a class="anchor" aria-label="anchor" href="#changing-labels"><i class="fas fa-link"></i></a>
</h3>
<p>The argument label is used to change the labels of a factor.</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># changing from male to M and from female to F</span>
<span class="op">(</span><span class="va">fac1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span>, 
               levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span>, 
               label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'M'</span>, <span class="st">'F'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] F M M F M M M F</span>
<span class="co">#&gt; Levels: M F</span></code></pre></div>
</div>
<div id="ordered-factors" class="section level3" number="4.14.7">
<h3>
<span class="header-section-number">4.14.7</span> Ordered factors<a class="anchor" aria-label="anchor" href="#ordered-factors"><i class="fas fa-link"></i></a>
</h3>
<p>Ordered factors are factors whose orders matter for example with grading; A is greater than B and B greater than C, and so forth. The argument <code>order = TRUE</code> is used to create an ordered factor. Also, the function <code><a href="https://rdrr.io/r/base/factor.html">ordered()</a></code> can be used to create an ordered factor while the function <code><a href="https://rdrr.io/r/base/factor.html">is.ordered()</a></code> is used to check for ordered factor. With ordered factors, we can use the function <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code> and <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code> on them to determine the minimum and maximum values, respectively.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">fac2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span>, 
               levels <span class="op">=</span> <span class="va">lev</span>, 
               ordered <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] female male   male   female male   male   male   female</span>
<span class="co">#&gt; Levels: male &lt; female</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">fac</span><span class="op">)</span>
<span class="co">#&gt; $levels</span>
<span class="co">#&gt; [1] "female" "male"  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "factor"</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">fac1</span><span class="op">)</span>
<span class="co">#&gt; $levels</span>
<span class="co">#&gt; [1] "M" "F"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "factor"</span>
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">fac2</span><span class="op">)</span>
<span class="co">#&gt; $levels</span>
<span class="co">#&gt; [1] "male"   "female"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "ordered" "factor"</span>

<span class="co"># getting minimum and maximum values</span>
<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">fac2</span><span class="op">)</span>
<span class="co">#&gt; [1] male</span>
<span class="co">#&gt; Levels: male &lt; female</span>
<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">fac2</span><span class="op">)</span>
<span class="co">#&gt; [1] female</span>
<span class="co">#&gt; Levels: male &lt; female</span>

<span class="co"># checking for ordered factor</span>
<span class="fu"><a href="https://rdrr.io/r/base/factor.html">is.ordered</a></span><span class="op">(</span><span class="va">fac2</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="fu"><a href="https://rdrr.io/r/base/factor.html">ordered</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] female male   male   female male   male   male   female</span>
<span class="co">#&gt; Levels: female &lt; male</span>
<span class="fu"><a href="https://rdrr.io/r/base/factor.html">ordered</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span>, 
        levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'male'</span>, <span class="st">'female'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] female male   male   female male   male   male   female</span>
<span class="co">#&gt; Levels: male &lt; female</span></code></pre></div>
<p>The functions <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code> and <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code> do not work for <code>fac</code> and <code>fac1</code> because they are not ordered, hence have no minimum or maximum.</p>
</div>
<div id="converting-from-character-to-factor" class="section level3" number="4.14.8">
<h3>
<span class="header-section-number">4.14.8</span> Converting from character to factor<a class="anchor" aria-label="anchor" href="#converting-from-character-to-factor"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/r/base/factor.html">as.factor()</a></code> converts to a factor, if possible but is less flexible than <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code>. It is used when we do not care about levels, label or order.</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">month.name</span>
<span class="co">#&gt;  [1] "January"   "February"  "March"     "April"    </span>
<span class="co">#&gt;  [5] "May"       "June"      "July"      "August"   </span>
<span class="co">#&gt;  [9] "September" "October"   "November"  "December"</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt; [1] "character"</span>

<span class="co"># converting to factor</span>
<span class="op">(</span><span class="va">month_fac</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] January   February  March     April     May      </span>
<span class="co">#&gt;  [6] June      July      August    September October  </span>
<span class="co">#&gt; [11] November  December </span>
<span class="co">#&gt; 12 Levels: April August December February January ... September</span></code></pre></div>
</div>
<div id="converting-from-factor-to-character" class="section level3" number="4.14.9">
<h3>
<span class="header-section-number">4.14.9</span> Converting from factor to character<a class="anchor" aria-label="anchor" href="#converting-from-factor-to-character"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/r/base/character.html">as.character()</a></code> converts from factor to character.</p>
<p><code>(month_char &lt;- as.character(month_fac))</code></p>
</div>
<div id="converting-from-numeric-to-factor" class="section level3" number="4.14.10">
<h3>
<span class="header-section-number">4.14.10</span> Converting from numeric to factor<a class="anchor" aria-label="anchor" href="#converting-from-numeric-to-factor"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/r/base/cut.html">cut()</a></code> is used to convert from numeric vector to factor. It bins numbers into ranges which can be treated as categories.</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">15</span>,<span class="fl">65</span>,<span class="fl">68</span>,<span class="fl">46</span>,<span class="fl">15</span>,<span class="fl">61</span>,<span class="fl">32</span>,<span class="fl">13</span>,<span class="fl">15</span>,<span class="fl">46</span>,<span class="fl">13</span>,<span class="fl">21</span>,<span class="fl">89</span>,<span class="fl">89</span>,<span class="fl">44</span>,<span class="fl">51</span>,<span class="fl">32</span>,<span class="fl">16</span>,<span class="fl">18</span>,<span class="fl">95</span>,<span class="fl">46</span>,<span class="fl">16</span>,<span class="fl">65</span>,<span class="fl">46</span><span class="op">)</span>

<span class="co"># create factors from numeric</span>
<span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">scores</span>, breaks <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt;  [1] (12.9,29.4] (62.2,78.6] (62.2,78.6] (45.8,62.2]</span>
<span class="co">#&gt;  [5] (12.9,29.4] (45.8,62.2] (29.4,45.8] (12.9,29.4]</span>
<span class="co">#&gt;  [9] (12.9,29.4] (45.8,62.2] (12.9,29.4] (12.9,29.4]</span>
<span class="co">#&gt; [13] (78.6,95.1] (78.6,95.1] (29.4,45.8] (45.8,62.2]</span>
<span class="co">#&gt; [17] (29.4,45.8] (12.9,29.4] (12.9,29.4] (78.6,95.1]</span>
<span class="co">#&gt; [21] (45.8,62.2] (12.9,29.4] (62.2,78.6] (45.8,62.2]</span>
<span class="co">#&gt; 5 Levels: (12.9,29.4] (29.4,45.8] ... (78.6,95.1]</span>

<span class="co"># return categories</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">scores</span>, breaks <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "(12.9,29.4]" "(29.4,45.8]" "(45.8,62.2]" "(62.2,78.6]"</span>
<span class="co">#&gt; [5] "(78.6,95.1]"</span>

<span class="co"># number of levels</span>
<span class="fu"><a href="https://rdrr.io/r/base/nlevels.html">nlevels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">scores</span>, breaks <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 5</span>

<span class="co"># check class</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">scores</span>, breaks <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "factor"</span>

<span class="co"># controlling breaks</span>
<span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">scores</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">40</span> , <span class="fl">50</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] (0,40]   (60,80]  (60,80]  (40,50]  (0,40]   (60,80] </span>
<span class="co">#&gt;  [7] (0,40]   (0,40]   (0,40]   (40,50]  (0,40]   (0,40]  </span>
<span class="co">#&gt; [13] (80,100] (80,100] (40,50]  (50,60]  (0,40]   (0,40]  </span>
<span class="co">#&gt; [19] (0,40]   (80,100] (40,50]  (0,40]   (60,80]  (40,50] </span>
<span class="co">#&gt; Levels: (0,40] (40,50] (50,60] (60,80] (80,100]</span>

<span class="co"># adding labels</span>
<span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">scores</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">40</span> , <span class="fl">50</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">100</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'F'</span>, <span class="st">'D'</span>, <span class="st">'C'</span>, <span class="st">'B'</span>, <span class="st">'A'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] F B B D F B F F F D F F A A D C F F F A D F B D</span>
<span class="co">#&gt; Levels: F D C B A</span>

<span class="co"># majority of the students failed</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">scores</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">40</span> , <span class="fl">50</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">100</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'F'</span>, <span class="st">'D'</span>, <span class="st">'C'</span>, <span class="st">'B'</span>, <span class="st">'A'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  F  D  C  B  A </span>
<span class="co">#&gt; 11  5  1  4  3</span></code></pre></div>
</div>
<div id="converting-from-factor-to-numeric" class="section level3" number="4.14.11">
<h3>
<span class="header-section-number">4.14.11</span> Converting from factor to numeric<a class="anchor" aria-label="anchor" href="#converting-from-factor-to-numeric"><i class="fas fa-link"></i></a>
</h3>
<p>To convert from a factor to numeric, the function <code><a href="https://rdrr.io/r/base/numeric.html">as.numeric()</a></code> does not work. To use it, we first have to convert the factor to character using <code><a href="https://rdrr.io/r/base/character.html">as.character()</a></code> or <code>levels(fac)[fac]</code>. Below we make use of both methods to achieve our objective.</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">num_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">15</span>,<span class="fl">65</span>,<span class="fl">68</span>,<span class="fl">46</span>,<span class="fl">15</span>,<span class="fl">61</span>,<span class="fl">32</span>,<span class="fl">13</span>,<span class="fl">15</span>,<span class="fl">46</span>,<span class="fl">13</span>,<span class="fl">21</span>,<span class="fl">89</span>,<span class="fl">89</span>,<span class="fl">44</span>,<span class="fl">51</span>,<span class="fl">32</span>,<span class="fl">16</span>,<span class="fl">18</span>,<span class="fl">95</span>,<span class="fl">46</span>,<span class="fl">16</span>,<span class="fl">65</span>,<span class="fl">46</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">num_vec</span><span class="op">)</span>
<span class="co">#&gt; [1] 42.375</span>

<span class="co">#converting to factor</span>
<span class="op">(</span><span class="va">fac3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">num_vec</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] 15 65 68 46 15 61 32 13 15 46 13 21 89 89 44 51 32 16</span>
<span class="co">#&gt; [19] 18 95 46 16 65 46</span>
<span class="co">#&gt; Levels: 13 15 16 18 21 32 44 46 51 61 65 68 89 95</span>

<span class="co"># calculating mean</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">fac3</span><span class="op">)</span>
<span class="co">#&gt; [1] NA</span>


<span class="co"># as.numeric() doesn't seem to work </span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">fac3</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 6.958333</span>


<span class="co"># using as.character</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">fac3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 42.375</span>

<span class="co"># using levels()</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">fac3</span><span class="op">)</span><span class="op">[</span><span class="va">fac3</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 42.375</span></code></pre></div>
</div>
</div>
<div id="br-string" class="section level2" number="4.15">
<h2>
<span class="header-section-number">4.15</span> String manipulation with base R<a class="anchor" aria-label="anchor" href="#br-string"><i class="fas fa-link"></i></a>
</h2>
<div id="string-length-and-character-count" class="section level3" number="4.15.1">
<h3>
<span class="header-section-number">4.15.1</span> String length and character count<a class="anchor" aria-label="anchor" href="#string-length-and-character-count"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> returns the count of elements in a vector.
The function <code><a href="https://rdrr.io/r/base/nchar.html">nchar()</a></code> returns the count of letters in a string.</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">month.name</span>
<span class="co">#&gt;  [1] "January"   "February"  "March"     "April"    </span>
<span class="co">#&gt;  [5] "May"       "June"      "July"      "August"   </span>
<span class="co">#&gt;  [9] "September" "October"   "November"  "December"</span>

<span class="co">#count of elements</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt; [1] 12</span>

<span class="co"># count of letters</span>
<span class="va">month.name</span>
<span class="co">#&gt;  [1] "January"   "February"  "March"     "April"    </span>
<span class="co">#&gt;  [5] "May"       "June"      "July"      "August"   </span>
<span class="co">#&gt;  [9] "September" "October"   "November"  "December"</span>
<span class="fu"><a href="https://rdrr.io/r/base/nchar.html">nchar</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] 7 8 5 5 3 4 4 6 9 7 8 8</span></code></pre></div>
</div>
<div id="strings-formatting-case-folding" class="section level3" number="4.15.2">
<h3>
<span class="header-section-number">4.15.2</span> Strings formatting (case-folding)<a class="anchor" aria-label="anchor" href="#strings-formatting-case-folding"><i class="fas fa-link"></i></a>
</h3>
<p>The functions <code><a href="https://rdrr.io/r/base/chartr.html">toupper()</a></code> and <code><a href="https://rdrr.io/r/base/chartr.html">tolower()</a></code> are used to convert to upper and lower cases, respectively while <code><a href="https://rdrr.io/r/base/chartr.html">casefold()</a></code> is a wrapper to these functions.</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># uppercase</span>
<span class="fu"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "JANUARY"   "FEBRUARY"  "MARCH"     "APRIL"    </span>
<span class="co">#&gt;  [5] "MAY"       "JUNE"      "JULY"      "AUGUST"   </span>
<span class="co">#&gt;  [9] "SEPTEMBER" "OCTOBER"   "NOVEMBER"  "DECEMBER"</span>
<span class="fu"><a href="https://rdrr.io/r/base/chartr.html">casefold</a></span><span class="op">(</span><span class="va">month.name</span>, upper <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "JANUARY"   "FEBRUARY"  "MARCH"     "APRIL"    </span>
<span class="co">#&gt;  [5] "MAY"       "JUNE"      "JULY"      "AUGUST"   </span>
<span class="co">#&gt;  [9] "SEPTEMBER" "OCTOBER"   "NOVEMBER"  "DECEMBER"</span>

<span class="co"># lowercase</span>
<span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "january"   "february"  "march"     "april"    </span>
<span class="co">#&gt;  [5] "may"       "june"      "july"      "august"   </span>
<span class="co">#&gt;  [9] "september" "october"   "november"  "december"</span>
<span class="fu"><a href="https://rdrr.io/r/base/chartr.html">casefold</a></span><span class="op">(</span><span class="va">month.name</span>, upper <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "january"   "february"  "march"     "april"    </span>
<span class="co">#&gt;  [5] "may"       "june"      "july"      "august"   </span>
<span class="co">#&gt;  [9] "september" "october"   "november"  "december"</span></code></pre></div>
</div>
<div id="join-and-split-strings" class="section level3" number="4.15.3">
<h3>
<span class="header-section-number">4.15.3</span> Join and Split strings<a class="anchor" aria-label="anchor" href="#join-and-split-strings"><i class="fas fa-link"></i></a>
</h3>
<div id="joining-strings-using-cat" class="section level4" number="4.15.3.1">
<h4>
<span class="header-section-number">4.15.3.1</span> Joining strings using cat()<a class="anchor" aria-label="anchor" href="#joining-strings-using-cat"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/cat.html">cat()</a></code> converts its arguments to strings and concatenates them after appending a separator string (given by sep) to them.</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="va">month.name</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
<span class="va">b</span> <span class="op">&lt;-</span> <span class="va">month.name</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
<span class="va">c</span> <span class="op">&lt;-</span> <span class="va">month.name</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'comes after'</span>, <span class="va">a</span> ,<span class="st">'but comes before'</span>, <span class="va">c</span><span class="op">)</span>
<span class="co">#&gt; February comes after January but comes before March</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'comes before'</span>, <span class="va">a</span> ,<span class="st">'but comes after'</span>, <span class="va">c</span>, sep <span class="op">=</span> <span class="st">'/'</span><span class="op">)</span>
<span class="co">#&gt; February/comes before/January/but comes after/March</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, sep <span class="op">=</span> <span class="st">' - '</span><span class="op">)</span>
<span class="co">#&gt; January - February - March - April - May - June</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, sep <span class="op">=</span> <span class="st">' &lt;&gt; '</span><span class="op">)</span>
<span class="co">#&gt; January &lt;&gt; February &lt;&gt; March &lt;&gt; April &lt;&gt; May &lt;&gt; June</span></code></pre></div>
<p>Newlines and tabs can be added by using <code>\n</code> for newline and <code>\t</code> for tabs.</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># adding a new line</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'comes after\n'</span>, <span class="va">a</span> ,<span class="st">'but comes before'</span>, <span class="va">c</span><span class="op">)</span>
<span class="co">#&gt; February comes after</span>
<span class="co">#&gt;  January but comes before March</span>

<span class="co"># adding a tab</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'comes after\t'</span>, <span class="va">a</span> ,<span class="st">'but comes before'</span>, <span class="va">c</span><span class="op">)</span>
<span class="co">#&gt; February comes after  January but comes before March</span></code></pre></div>
<p>The function <code><a href="https://rdrr.io/r/base/cat.html">cat()</a></code> can write its output directly to a file if a file name is passed to it.</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># writing to disc</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">month.name</span>, sep <span class="op">=</span> <span class="st">' &lt;&gt; '</span>, file <span class="op">=</span> <span class="st">"output/data/months.txt"</span><span class="op">)</span>

<span class="co"># checking if file exists</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="st">'output/data/months.txt'</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="co"># removing file</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html">file.remove</a></span><span class="op">(</span><span class="st">'output/data/months.txt'</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="joining-strings-using-paste-and-paste0" class="section level4" number="4.15.3.2">
<h4>
<span class="header-section-number">4.15.3.2</span> Joining strings using paste() and paste0()<a class="anchor" aria-label="anchor" href="#joining-strings-using-paste-and-paste0"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/paste.html">paste()</a></code> concatenate vectors after converting them to character and separating them by a string given by sep. It concatenates multiple vectors element by element to give a new character vector and if one is shorter, recycling occurs with zero-length arguments being recycled to ““.
With a single vector, it is simply converted to a character vector and if the argument collapse is set, the elements are condensed into a single string.</p>
<p>The function <code><a href="https://rdrr.io/r/base/paste.html">paste0(...)</a></code> is equivalent to <code>paste(…, sep = ’’)</code>, but slightly more efficient.</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># combining elements into a character vector</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span><span class="op">)</span>
<span class="co">#&gt; [1] "a b"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] "1 2 3 4"</span>


<span class="co"># using a sep</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span>, sep <span class="op">=</span> <span class="st">''</span><span class="op">)</span>
<span class="co">#&gt; [1] "ab"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, sep <span class="op">=</span> <span class="st">''</span><span class="op">)</span>
<span class="co">#&gt; [1] "1234"</span>


<span class="co"># using paste0</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span><span class="op">)</span>
<span class="co">#&gt; [1] "ab"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span> ,<span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] "1234"</span>

<span class="co"># on a single vector</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">' &lt;&gt; '</span><span class="op">)</span>
<span class="co">#&gt; [1] "a" "b"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">' &lt;&gt; '</span><span class="op">)</span>
<span class="co">#&gt; [1] "1" "2"</span>

<span class="co"># two or more vectors</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'c'</span>, <span class="st">'d'</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">' &lt;&gt; '</span><span class="op">)</span>
<span class="co">#&gt; [1] "a &lt;&gt; c" "b &lt;&gt; d"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'c'</span>, <span class="st">'d'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "ac" "bd"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; [1] "16"  "27"  "38"  "49"  "510"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span>
<span class="co">#&gt;  [1] "1 10" "2 11" "3 12" "4 13" "5 14" "1 15" "2 16" "3 17"</span>
<span class="co">#&gt;  [9] "4 18" "5 19" "1 20"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] "1 10 a" "2 11 b" "3 12 c" "4 13 a" "5 14 b" "1 15 c"</span>
<span class="co">#&gt;  [7] "2 16 a" "3 17 b" "4 18 c" "5 19 a" "1 20 b"</span>

<span class="co"># combining character and variables with paste</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'comes after'</span>, <span class="va">a</span> ,<span class="st">'but comes before'</span>, <span class="va">c</span><span class="op">)</span>
<span class="co">#&gt; [1] "February comes after January but comes before March"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'comes after'</span>, <span class="va">a</span> ,<span class="st">'but comes before'</span>, <span class="va">c</span>, sep <span class="op">=</span> <span class="st">"    "</span><span class="op">)</span>
<span class="co">#&gt; [1] "February    comes after    January    but comes before    March"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'comes after'</span>, <span class="va">a</span> ,<span class="st">'but comes before'</span>, <span class="va">c</span>, sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span>
<span class="co">#&gt; [1] "February/comes after/January/but comes before/March"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">'version 1.'</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, sep <span class="op">=</span> <span class="st">''</span><span class="op">)</span>
<span class="co">#&gt; [1] "version 1.1" "version 1.2" "version 1.3" "version 1.4"</span>
<span class="co">#&gt; [5] "version 1.5"</span>

<span class="co"># combining character and variables with paste0</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">' comes after '</span>, <span class="va">a</span> ,<span class="st">' but comes before '</span>, <span class="va">c</span><span class="op">)</span>
<span class="co">#&gt; [1] "February comes after January but comes before March"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'    comes after    '</span>, <span class="va">a</span> ,<span class="st">'    but comes before    '</span>, <span class="va">c</span><span class="op">)</span>
<span class="co">#&gt; [1] "February    comes after    January    but comes before    March"</span>

<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">b</span>,<span class="st">'/comes after/'</span>, <span class="va">a</span> ,<span class="st">'/but comes before/'</span>, <span class="va">c</span><span class="op">)</span>
<span class="co">#&gt; [1] "February/comes after/January/but comes before/March"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'version 1.'</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] "version 1.1" "version 1.2" "version 1.3" "version 1.4"</span>
<span class="co">#&gt; [5] "version 1.5"</span></code></pre></div>
<p>The collapse argument is used to collapse elements returned into a single string.</p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># collapsing vectors</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, collapse <span class="op">=</span> <span class="st">'~'</span><span class="op">)</span>
<span class="co">#&gt; [1] "1~2~3~4~5~6~7~8~9~10"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'c'</span>, <span class="st">'d'</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">' &lt;&gt; '</span><span class="op">)</span>
<span class="co">#&gt; [1] "a c &lt;&gt; b d"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'c'</span>, <span class="st">'d'</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">' &lt;&gt; '</span><span class="op">)</span>
<span class="co">#&gt; [1] "ac &lt;&gt; bd"</span>

<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">10</span>, collapse <span class="op">=</span> <span class="st">'--'</span><span class="op">)</span>
<span class="co">#&gt; [1] "16--27--38--49--510"</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">month.name</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, collapse <span class="op">=</span> <span class="st">" - "</span><span class="op">)</span>
<span class="co">#&gt; [1] "January - February - March - April - May - June"</span></code></pre></div>
</div>
<div id="joining-strings-using-sprintf" class="section level4" number="4.15.3.3">
<h4>
<span class="header-section-number">4.15.3.3</span> Joining strings using sprintf()<a class="anchor" aria-label="anchor" href="#joining-strings-using-sprintf"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/sprintf.html">sprintf()</a></code> returns a character vector containing a formatted combination of text and variable values.
The format of the variables is passed using one of the following characters <code>aAdifeEgGosxX%</code> and should start with %.</p>
<div id="formatting-with-integers" class="section level5" number="4.15.3.3.1">
<h5>
<span class="header-section-number">4.15.3.3.1</span> Formatting with integers<a class="anchor" aria-label="anchor" href="#formatting-with-integers"><i class="fas fa-link"></i></a>
</h5>
<p>The command <code>%d</code> is used for formatting integers.</p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># using an integer as a variable</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'%d * %d = %d'</span>, <span class="va">x</span>, <span class="va">x</span>, <span class="va">x</span> <span class="op">**</span> <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; [1] "2 * 2 = 4"</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">**</span> <span class="fl">2</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'%d squared is equal to %d'</span>, <span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; [1] "1 squared is equal to 1"  "2 squared is equal to 4" </span>
<span class="co">#&gt; [3] "3 squared is equal to 9"  "4 squared is equal to 16"</span>

<span class="co">### padding integers with zeros</span>
<span class="va">num</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">123</span>, <span class="fl">1</span>, <span class="fl">100</span>, <span class="fl">200</span>, <span class="fl">10200</span>, <span class="fl">25000</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'my registration number is %05d'</span>, <span class="va">num</span><span class="op">)</span>
<span class="co">#&gt; [1] "my registration number is 00123"</span>
<span class="co">#&gt; [2] "my registration number is 00001"</span>
<span class="co">#&gt; [3] "my registration number is 00100"</span>
<span class="co">#&gt; [4] "my registration number is 00200"</span>
<span class="co">#&gt; [5] "my registration number is 10200"</span>
<span class="co">#&gt; [6] "my registration number is 25000"</span></code></pre></div>
</div>
<div id="formatting-with-strings" class="section level5" number="4.15.3.3.2">
<h5>
<span class="header-section-number">4.15.3.3.2</span> Formatting with strings<a class="anchor" aria-label="anchor" href="#formatting-with-strings"><i class="fas fa-link"></i></a>
</h5>
<p>The command <code>%s</code> is used for formatting strings.</p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># using a string as a variable</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="st">'my name is'</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="st">'james'</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="st">'london'</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'%s %s and i live and work in %s'</span>, <span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span>
<span class="co">#&gt; [1] "my name is james and i live and work in london"</span>

<span class="co"># combining strings and integers</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="st">'my name is'</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="st">'james'</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fl">35</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'%s %s and i am %d years'</span>, <span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span>
<span class="co">#&gt; [1] "my name is james and i am 35 years"</span>

<span class="va">names</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'paul'</span>, <span class="st">'alphonse'</span>, <span class="st">'michael'</span>, <span class="st">'james'</span>, <span class="st">'samson'</span>, <span class="st">'terence'</span>, <span class="st">'derin'</span><span class="op">)</span>
<span class="va">age</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">35</span>, <span class="fl">32</span>, <span class="fl">37</span>, <span class="fl">29</span>, <span class="fl">40</span>, <span class="fl">30</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'i am %s and i am %d years old'</span>, <span class="va">names</span>, <span class="va">age</span><span class="op">)</span>
<span class="co">#&gt; [1] "i am paul and i am 30 years old"    </span>
<span class="co">#&gt; [2] "i am alphonse and i am 35 years old"</span>
<span class="co">#&gt; [3] "i am michael and i am 32 years old" </span>
<span class="co">#&gt; [4] "i am james and i am 37 years old"   </span>
<span class="co">#&gt; [5] "i am samson and i am 29 years old"  </span>
<span class="co">#&gt; [6] "i am terence and i am 40 years old" </span>
<span class="co">#&gt; [7] "i am derin and i am 30 years old"</span></code></pre></div>
</div>
<div id="formatting-with-doubles-or-floating-points" class="section level5" number="4.15.3.3.3">
<h5>
<span class="header-section-number">4.15.3.3.3</span> Formatting with doubles or floating-points<a class="anchor" aria-label="anchor" href="#formatting-with-doubles-or-floating-points"><i class="fas fa-link"></i></a>
</h5>
<p>The command <code>%f</code> is used for formatting doubles while either <code>%e</code> or <code>%E</code> for formatting exponential.</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># using doubles as a variable</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1000</span><span class="op">/</span><span class="fl">6</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'1000 divided by 3 is %f'</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "1000 divided by 3 is 166.666667"</span>

<span class="co"># rounding a double to the nearest decimal</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'1000 divided by 3 is %.3f'</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "1000 divided by 3 is 166.667"</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'1000 divided by 3 is %.2f'</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "1000 divided by 3 is 166.67"</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'1000 divided by 3 is %.1f'</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "1000 divided by 3 is 166.7"</span>

<span class="co"># rounding a double to the nearest whole number</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'1000 divided by 3 is %1.f'</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "1000 divided by 3 is 167"</span>

<span class="co"># printing a plus (+) in front of a double</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'+1000 divided by 3 is %+.1f'</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "+1000 divided by 3 is +166.7"</span>

<span class="co"># printing space in front of a double</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'1000 divided by 3 is %f'</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "1000 divided by 3 is 166.666667"</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">'1000 divided by 3 is % f'</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "1000 divided by 3 is  166.666667"</span>

<span class="co"># exponential</span>
<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"%e"</span>, <span class="va">pi</span><span class="op">)</span>
<span class="co">#&gt; [1] "3.141593e+00"</span></code></pre></div>
</div>
</div>
<div id="splitting-strings-using-strsplit" class="section level4" number="4.15.3.4">
<h4>
<span class="header-section-number">4.15.3.4</span> Splitting strings using strsplit()<a class="anchor" aria-label="anchor" href="#splitting-strings-using-strsplit"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/strsplit.html">strsplit()</a></code> splits the elements of a character vector into substrings by a specific split character. It returns a list.</p>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-01-01'</span>, <span class="st">'2019-03-31'</span>, <span class="st">'2018-06-30'</span><span class="op">)</span>, split <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ : chr [1:3] "2020" "01" "01"</span>
<span class="co">#&gt;  $ : chr [1:3] "2019" "03" "31"</span>
<span class="co">#&gt;  $ : chr [1:3] "2018" "06" "30"</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020 01 01'</span>, <span class="st">'2019 03 31'</span>, <span class="st">'2018 06 30'</span><span class="op">)</span>, split <span class="op">=</span> <span class="st">" "</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ : chr [1:3] "2020" "01" "01"</span>
<span class="co">#&gt;  $ : chr [1:3] "2019" "03" "31"</span>
<span class="co">#&gt;  $ : chr [1:3] "2018" "06" "30"</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020, 01, 01'</span>, <span class="st">'2019, 03, 31'</span>, <span class="st">'2018, 06, 30'</span><span class="op">)</span>, split <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ : chr [1:3] "2020" "01" "01"</span>
<span class="co">#&gt;  $ : chr [1:3] "2019" "03" "31"</span>
<span class="co">#&gt;  $ : chr [1:3] "2018" "06" "30"</span></code></pre></div>
</div>
</div>
<div id="extract-and-replace-part-of-strings" class="section level3" number="4.15.4">
<h3>
<span class="header-section-number">4.15.4</span> Extract and Replace part of strings<a class="anchor" aria-label="anchor" href="#extract-and-replace-part-of-strings"><i class="fas fa-link"></i></a>
</h3>
<div id="extracting-substring-using-substr" class="section level4" number="4.15.4.1">
<h4>
<span class="header-section-number">4.15.4.1</span> Extracting substring using substr()<a class="anchor" aria-label="anchor" href="#extracting-substring-using-substr"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/substr.html">substr()</a></code> extracts a substring from a string by indexing. It uses start for the beginning position and stop for the ending position. It is like indexing but applied to a string.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-01-01'</span>, <span class="st">'2019-03-31'</span>, <span class="st">'2018-06-30'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">var</span>, start <span class="op">=</span> <span class="fl">1</span>, stop <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020" "2019" "2018"</span>
<span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">var</span>, start <span class="op">=</span> <span class="fl">6</span>, stop <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>
<span class="co">#&gt; [1] "01" "03" "06"</span>
<span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">var</span>, start <span class="op">=</span> <span class="fl">9</span>, stop <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; [1] "01" "31" "30"</span></code></pre></div>
</div>
<div id="replacing-substring-using-substr" class="section level4" number="4.15.4.2">
<h4>
<span class="header-section-number">4.15.4.2</span> Replacing substring using substr()<a class="anchor" aria-label="anchor" href="#replacing-substring-using-substr"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/substr.html">substr()</a></code> is also used to replace substring in a string by assigning a different string to the extracted substring.</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-01-01'</span>, <span class="st">'2019-03-31'</span>, <span class="st">'2018-06-30'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">var</span>, start <span class="op">=</span> <span class="fl">1</span>, stop <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2010'</span>, <span class="st">'2011'</span>, <span class="st">'2012'</span><span class="op">)</span>
<span class="va">var</span>
<span class="co">#&gt; [1] "2010-01-01" "2011-03-31" "2012-06-30"</span>

<span class="va">weekdays</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'monday'</span>, <span class="st">'tuesday'</span>, <span class="st">'wednesday'</span>, <span class="st">'thursday'</span>, <span class="st">'friday'</span>, <span class="st">'saturday'</span>, <span class="st">'sunday'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">weekdays</span>, start <span class="op">=</span> <span class="fl">1</span>, stop <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">weekdays</span>, start <span class="op">=</span> <span class="fl">1</span>, stop <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">weekdays</span>
<span class="co">#&gt; [1] "Monday"    "Tuesday"   "Wednesday" "Thursday" </span>
<span class="co">#&gt; [5] "Friday"    "Saturday"  "Sunday"</span></code></pre></div>
</div>
<div id="replacing-substrings-using-sub" class="section level4" number="4.15.4.3">
<h4>
<span class="header-section-number">4.15.4.3</span> Replacing substrings using sub()<a class="anchor" aria-label="anchor" href="#replacing-substrings-using-sub"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/grep.html">sub()</a></code> replaces a substring at first occurrence in a string.</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-01-01'</span>, <span class="st">'2019-03-31'</span>, <span class="st">'2018-06-30'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">sub</a></span><span class="op">(</span><span class="st">"-"</span>, <span class="st">""</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "202001-01" "201903-31" "201806-30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">sub</a></span><span class="op">(</span><span class="st">"-"</span>, <span class="st">" "</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020 01-01" "2019 03-31" "2018 06-30"</span></code></pre></div>
</div>
<div id="replacing-substrings-using-gsub" class="section level4" number="4.15.4.4">
<h4>
<span class="header-section-number">4.15.4.4</span> Replacing substrings using gsub()<a class="anchor" aria-label="anchor" href="#replacing-substrings-using-gsub"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/grep.html">gsub()</a></code> replaces a substring throughout a string.</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-01-01'</span>, <span class="st">'2019-03-31'</span>, <span class="st">'2018-06-30'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"-"</span>, <span class="st">"/"</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020/01/01" "2019/03/31" "2018/06/30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"-"</span>, <span class="st">" "</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020 01 01" "2019 03 31" "2018 06 30"</span></code></pre></div>
</div>
<div id="replacing-substring-using-chartr" class="section level4" number="4.15.4.5">
<h4>
<span class="header-section-number">4.15.4.5</span> Replacing substring using chartr()<a class="anchor" aria-label="anchor" href="#replacing-substring-using-chartr"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/chartr.html">chartr()</a></code> replaces a substring throughout a string.</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-01-01'</span>, <span class="st">'2019-03-31'</span>, <span class="st">'2018-06-30'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/chartr.html">chartr</a></span><span class="op">(</span>old <span class="op">=</span> <span class="st">"-"</span>, new <span class="op">=</span> <span class="st">"/"</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020/01/01" "2019/03/31" "2018/06/30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/chartr.html">chartr</a></span><span class="op">(</span>old <span class="op">=</span> <span class="st">"-"</span>, new <span class="op">=</span> <span class="st">" "</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020 01 01" "2019 03 31" "2018 06 30"</span></code></pre></div>
</div>
<div id="remove-white-spaces-and-clean-string-values" class="section level4" number="4.15.4.6">
<h4>
<span class="header-section-number">4.15.4.6</span> Remove white spaces and clean string values<a class="anchor" aria-label="anchor" href="#remove-white-spaces-and-clean-string-values"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/trimws.html">trimws()</a></code> removes white spaces.</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/trimws.html">trimws</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">' 2020-01-01 '</span>, <span class="st">' 2019-03-31 '</span>, <span class="st">' 2018-06-30 '</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-01-01" "2019-03-31" "2018-06-30"</span></code></pre></div>
</div>
</div>
<div id="pattern-matching-using-regular-expression" class="section level3" number="4.15.5">
<h3>
<span class="header-section-number">4.15.5</span> Pattern matching using regular expression<a class="anchor" aria-label="anchor" href="#pattern-matching-using-regular-expression"><i class="fas fa-link"></i></a>
</h3>
<div id="regex-functions" class="section level4" number="4.15.5.1">
<h4>
<span class="header-section-number">4.15.5.1</span> Regex functions<a class="anchor" aria-label="anchor" href="#regex-functions"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li><code><a href="https://rdrr.io/r/base/grep.html">grep()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/grep.html">grepl()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/grep.html">regexpr()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/grep.html">gregexpr()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/grep.html">regexec()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/grep.html">sub()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/grep.html">gsub()</a></code></li>
</ul>
<div id="the-grep-function" class="section level5" number="4.15.5.1.1">
<h5>
<span class="header-section-number">4.15.5.1.1</span> The <code>grep()</code> function<a class="anchor" aria-label="anchor" href="#the-grep-function"><i class="fas fa-link"></i></a>
</h5>
<p>The function <code><a href="https://rdrr.io/r/base/grep.html">grep()</a></code> returns the index position or value of elements that match a pattern.</p>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># returning index position</span>
<span class="va">month.name</span>
<span class="co">#&gt;  [1] "January"   "February"  "March"     "April"    </span>
<span class="co">#&gt;  [5] "May"       "June"      "July"      "August"   </span>
<span class="co">#&gt;  [9] "September" "October"   "November"  "December"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">'uary'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2</span>

<span class="co"># returning values</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'uary'</span>, <span class="va">month.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] "January"  "February"</span>

<span class="co"># ignoring case</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'ju'</span>, <span class="va">month.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; character(0)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'ju'</span>, <span class="va">month.name</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] "June" "July"</span></code></pre></div>
</div>
</div>
<div id="the-grepl-function" class="section level4" number="4.15.5.2">
<h4>
<span class="header-section-number">4.15.5.2</span> The grepl() function<a class="anchor" aria-label="anchor" href="#the-grepl-function"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/grep.html">grepl()</a></code> returns <code>TRUE</code> for pattern match and FALSE for no pattern match.</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">'uary'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co">#&gt; [10] FALSE FALSE FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">'ju'</span>, <span class="va">month.name</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE</span>
<span class="co">#&gt; [10] FALSE FALSE FALSE</span></code></pre></div>
</div>
<div id="the-regexpr-function" class="section level4" number="4.15.5.3">
<h4>
<span class="header-section-number">4.15.5.3</span> The <code>regexpr()</code> function<a class="anchor" aria-label="anchor" href="#the-regexpr-function"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/grep.html">regexpr()</a></code> returns the position of the first pattern match in an element with -1 representing no pattern match.</p>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/grep.html">regexpr</a></span><span class="op">(</span><span class="st">'ber'</span>, <span class="va">month.name</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] -1 -1 -1 -1 -1 -1 -1 -1  7  5  6  6</span>
<span class="co">#&gt; attr(,"match.length")</span>
<span class="co">#&gt;  [1] -1 -1 -1 -1 -1 -1 -1 -1  3  3  3  3</span>
<span class="co">#&gt; attr(,"index.type")</span>
<span class="co">#&gt; [1] "chars"</span>
<span class="co">#&gt; attr(,"useBytes")</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="op">(</span><span class="va">st</span> <span class="op">&lt;-</span> <span class="va">state.name</span><span class="op">[</span><span class="fl">20</span><span class="op">:</span><span class="fl">25</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; [1] "Maryland"      "Massachusetts" "Michigan"     </span>
<span class="co">#&gt; [4] "Minnesota"     "Mississippi"   "Missouri"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">regexpr</a></span><span class="op">(</span><span class="st">'ss'</span>, <span class="va">st</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] -1  3 -1 -1  3  3</span>
<span class="co">#&gt; attr(,"match.length")</span>
<span class="co">#&gt; [1] -1  2 -1 -1  2  2</span>
<span class="co">#&gt; attr(,"index.type")</span>
<span class="co">#&gt; [1] "chars"</span>
<span class="co">#&gt; attr(,"useBytes")</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="the-gregexpr-function" class="section level4" number="4.15.5.4">
<h4>
<span class="header-section-number">4.15.5.4</span> The <code>gregexpr()</code> function<a class="anchor" aria-label="anchor" href="#the-gregexpr-function"><i class="fas fa-link"></i></a>
</h4>
<p>The function <code><a href="https://rdrr.io/r/base/grep.html">gregexpr()</a></code> returns the position of all pattern matches in an element with -1 representing no pattern match.</p>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># same as as.list(regexpr())</span>
<span class="op">(</span><span class="va">st</span> <span class="op">&lt;-</span> <span class="va">state.name</span><span class="op">[</span><span class="fl">23</span><span class="op">:</span><span class="fl">25</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; [1] "Minnesota"   "Mississippi" "Missouri"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gregexpr</a></span><span class="op">(</span><span class="st">'ss'</span>, <span class="va">st</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] -1</span>
<span class="co">#&gt; attr(,"match.length")</span>
<span class="co">#&gt; [1] -1</span>
<span class="co">#&gt; attr(,"index.type")</span>
<span class="co">#&gt; [1] "chars"</span>
<span class="co">#&gt; attr(,"useBytes")</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] 3 6</span>
<span class="co">#&gt; attr(,"match.length")</span>
<span class="co">#&gt; [1] 2 2</span>
<span class="co">#&gt; attr(,"index.type")</span>
<span class="co">#&gt; [1] "chars"</span>
<span class="co">#&gt; attr(,"useBytes")</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] 3</span>
<span class="co">#&gt; attr(,"match.length")</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; attr(,"index.type")</span>
<span class="co">#&gt; [1] "chars"</span>
<span class="co">#&gt; attr(,"useBytes")</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="regex-operations" class="section level4" number="4.15.5.5">
<h4>
<span class="header-section-number">4.15.5.5</span> Regex Operations<a class="anchor" aria-label="anchor" href="#regex-operations"><i class="fas fa-link"></i></a>
</h4>
<div id="matching-spaces" class="section level5" number="4.15.5.5.1">
<h5>
<span class="header-section-number">4.15.5.5.1</span> Matching spaces<a class="anchor" aria-label="anchor" href="#matching-spaces"><i class="fas fa-link"></i></a>
</h5>
<ul>
<li>[[:blank:]] matches space and tab characters</li>
<li>[[:space:]] matches tab, newline, vertical tab, form feed, carriage return, and space</li>
<li>\s matches space character</li>
<li>\S matches non-space character</li>
</ul>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># creating a character vector</span>
<span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020 01 01'</span>, <span class="st">'2019 03 31'</span>, <span class="st">'2018 06 30'</span><span class="op">)</span>

<span class="co"># POSIX Character</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:space:]]'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-01-01" "2019-03-31" "2018-06-30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:space:]]'</span>, <span class="st">'/'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020/01/01" "2019/03/31" "2018/06/30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:blank:]]'</span>, <span class="st">'_'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020_01_01" "2019_03_31" "2018_06_30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:blank:]]'</span>, <span class="st">'/'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020/01/01" "2019/03/31" "2018/06/30"</span>

<span class="co"># Sequences</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\s'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-01-01" "2019-03-31" "2018-06-30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\s'</span>, <span class="st">'/'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020/01/01" "2019/03/31" "2018/06/30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\s'</span>, <span class="st">'_'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020_01_01" "2019_03_31" "2018_06_30"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\s'</span>, <span class="st">'/'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020/01/01" "2019/03/31" "2018/06/30"</span>

<span class="co"># using strsplit() to split based on a pattern</span>
<span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020 01 01'</span>, <span class="st">'2019 03 31'</span>, <span class="st">'2018 06 30'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">var</span>, split <span class="op">=</span> <span class="st">'\\s'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ : chr [1:3] "2020" "01" "01"</span>
<span class="co">#&gt;  $ : chr [1:3] "2019" "03" "31"</span>
<span class="co">#&gt;  $ : chr [1:3] "2018" "06" "30"</span>

<span class="co"># matching non-space character with \\S</span>
<span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020 01 01'</span>, <span class="st">'2019 03 31'</span>, <span class="st">'2018 06 30'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\S'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "---- -- --" "---- -- --" "---- -- --"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\S'</span>, <span class="st">'/'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "//// // //" "//// // //" "//// // //"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\S'</span>, <span class="st">'_'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "____ __ __" "____ __ __" "____ __ __"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\S'</span>, <span class="st">'/'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "//// // //" "//// // //" "//// // //"</span></code></pre></div>
<p>Matching alphabetic characters</p>
<ul>
<li>[[:alpha:]] matches alphabetic characters</li>
<li>[[:lower:]] matches lowercase characters</li>
<li>[[:upper:]] matches uppercase characters</li>
</ul>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="st">'a1b2c3d4e5f'</span>

<span class="co"># matching alphabetic characters</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:alpha:]]'</span>, <span class="st">''</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "12345"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:alpha:]]'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "-1-2-3-4-5-"</span>

<span class="co"># matching lowercase letters</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:lower:]]'</span>, <span class="st">''</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "J" "F" "M" "A" "M" "J" "J" "A" "S" "O" "N" "D"</span>

<span class="co"># matching uppercase letters</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:upper:]]'</span>, <span class="st">''</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "anuary"   "ebruary"  "arch"     "pril"     "ay"      </span>
<span class="co">#&gt;  [6] "une"      "uly"      "ugust"    "eptember" "ctober"  </span>
<span class="co">#&gt; [11] "ovember"  "ecember"</span></code></pre></div>
<p>Matching numerical digits</p>
<ul>
<li>[[:digit:]] and \d matches numbers from 0-9.</li>
</ul>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="st">'a1b2c3d4e5f'</span>

<span class="co"># POSIX Character</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:digit:]]'</span>, <span class="st">''</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "abcdef"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:digit:]]'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "a-b-c-d-e-f"</span>

<span class="co"># Sequences</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\d'</span>, <span class="st">''</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "abcdef"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\d'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "a-b-c-d-e-f"</span></code></pre></div>
<p>Matching letters and numbers (alphanumeric characters)</p>
<ul>
<li>[[:alnum:]] matches alphanumeric characters ([[:alpha:]] and [[:digit:]])</li>
<li>[[:xdigit:]] matches Hexadecimal digits (0 1 2 3 4 5 6 7 8 9 A B C D E F a b c d e f)</li>
<li>\w matches word characters</li>
</ul>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="st">'a1@; 2#4c $8`*%f^!1~0&amp;^h*()j'</span>

<span class="co"># alphanumeric characters</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:alnum:]]'</span>, <span class="st">''</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "@; # $`*%^!~&amp;^*()"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:alnum:]]'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "--@; -#-- $-`*%-^!-~-&amp;^-*()-"</span>

<span class="co"># Hexadecimal digits</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:xdigit:]]'</span>, <span class="st">''</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "@; # $`*%^!~&amp;^h*()j"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:xdigit:]]'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "--@; -#-- $-`*%-^!-~-&amp;^h*()j"</span>

<span class="co"># matching word characters</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\w'</span>, <span class="st">''</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "@; # $`*%^!~&amp;^*()"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\w'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "--@; -#-- $-`*%-^!-~-&amp;^-*()-"</span></code></pre></div>
<p>Matching punctuation</p>
<ul>
<li>[[:punct:]] matches punctuation characters.</li>
<li>\W matches non-word characters.</li>
</ul>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">var</span> <span class="op">&lt;-</span> <span class="st">'a1@; 2#4c $8`*%f^!1~0&amp;^h*()j'</span>

<span class="co"># matching punctuation characters</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:punct:]]'</span>, <span class="st">''</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "a1 24c 8f10hj"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:punct:]]'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "a1-- 2-4c -8---f--1-0--h---j"</span>

<span class="co"># matching non-word characters</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\W'</span>, <span class="st">''</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "a124c8f10hj"</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\W'</span>, <span class="st">'-'</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "a1---2-4c--8---f--1-0--h---j"</span></code></pre></div>
<p>Matching letters, numbers, and punctuation</p>
<ul>
<li>[[:graph:]] matches graphical characters ([[:alpha:]] and [[:punct:]])</li>
<li>. matches any character (except newline character)</li>
</ul>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># matching graphical characters</span>
<span class="va">var</span> <span class="op">&lt;-</span> <span class="st">'a1@; 2#4c $8%f^!10&amp;^h*()j'</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[[:graph:]]'</span>, <span class="st">' '</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "                         "</span>

<span class="co"># matching anything but newline characters</span>
<span class="va">var</span> <span class="op">&lt;-</span> <span class="st">'a1@; 2#4c $8%f^!10&amp;^h*()j'</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'.'</span>, <span class="st">' '</span>, <span class="va">var</span><span class="op">)</span>
<span class="co">#&gt; [1] "                         "</span></code></pre></div>
<p>Matching whitespace</p>
<ul>
<li>\s is used to match whitespaces.</li>
</ul>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># removing whitespace</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\s'</span>, <span class="st">''</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">' 2020-01-01 '</span>, <span class="st">' 2019-03-31 '</span>, <span class="st">' 2018-06-30 '</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "2020-01-01" "2019-03-31" "2018-06-30"</span></code></pre></div>
<p>Matching a newline</p>
<ul>
<li>\n is used to match a newline.</li>
</ul>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">'good morning \n i am fru kinglsy \n i will be your instructor'</span><span class="op">)</span>
<span class="co">#&gt; good morning </span>
<span class="co">#&gt;  i am fru kinglsy </span>
<span class="co">#&gt;  i will be your instructor</span>

<span class="co"># replacing newline with tab</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\n'</span>, <span class="st">'\t'</span>, <span class="st">'good morning \n i am fru kinglsy \n i will be your instructor'</span><span class="op">)</span>
<span class="co">#&gt; [1] "good morning \t i am fru kinglsy \t i will be your instructor"</span>

<span class="co"># print it out</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\n'</span>, <span class="st">'\t'</span>, <span class="st">'good morning \n i am fru kinglsy \n i will be your instructor'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; good morning      i am fru kinglsy    i will be your instructor</span></code></pre></div>
<p>Matching tab</p>
<ul>
<li>\t is used to match tabs.</li>
</ul>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># replacing tab by newline</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\t'</span>, <span class="st">'\n'</span>, <span class="st">'good morning \t i am fru kinglsy \t i will your instructor'</span><span class="op">)</span>
<span class="co">#&gt; [1] "good morning \n i am fru kinglsy \n i will your instructor"</span>

<span class="co"># printing it out</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\t'</span>, <span class="st">'\n'</span>, <span class="st">'good morning \t i am fru kinglsy \t i will your instructor'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; good morning </span>
<span class="co">#&gt;  i am fru kinglsy </span>
<span class="co">#&gt;  i will your instructor</span></code></pre></div>
</div>
</div>
<div id="matching-metacharacters" class="section level4" number="4.15.5.6">
<h4>
<span class="header-section-number">4.15.5.6</span> Matching metacharacters<a class="anchor" aria-label="anchor" href="#matching-metacharacters"><i class="fas fa-link"></i></a>
</h4>
<p>Metacharacters consist of non-alphanumeric symbols such as $ . ^ * | + ! ?  () {} [].
They are matched, by escaping them with a double backslash \.</p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># matching $</span>
<span class="va">sales</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'$25000'</span>, <span class="st">'$20000'</span>, <span class="st">'$22500'</span>, <span class="st">'$24000'</span>, <span class="st">'$30000'</span>, <span class="st">'$35000'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">sub</a></span><span class="op">(</span><span class="st">'\\$'</span>, <span class="st">''</span>, <span class="va">sales</span><span class="op">)</span>
<span class="co">#&gt; [1] "25000" "20000" "22500" "24000" "30000" "35000"</span>

<span class="co"># matching +</span>
<span class="va">sales</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'+25000'</span>, <span class="st">'+20000'</span>, <span class="st">'+22500'</span>, <span class="st">'+24000'</span>, <span class="st">'+30000'</span>, <span class="st">'+35000'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">sub</a></span><span class="op">(</span><span class="st">'\\+'</span>, <span class="st">''</span>, <span class="va">sales</span><span class="op">)</span>
<span class="co">#&gt; [1] "25000" "20000" "22500" "24000" "30000" "35000"</span>

<span class="co"># matching .</span>
<span class="va">dates</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'01.01.2012'</span>, <span class="st">'01.02.2012'</span>, <span class="st">'01.03.2012'</span>, <span class="st">'01.04.2012'</span>, <span class="st">'01.05.2012'</span>, <span class="st">'01.06.2012'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\.'</span>, <span class="st">'-'</span>, <span class="va">dates</span><span class="op">)</span>
<span class="co">#&gt; [1] "01-01-2012" "01-02-2012" "01-03-2012" "01-04-2012"</span>
<span class="co">#&gt; [5] "01-05-2012" "01-06-2012"</span>

<span class="co"># matching *</span>
<span class="va">dates</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'01*01*2012'</span>, <span class="st">'01*02*2012'</span>, <span class="st">'01*03*2012'</span>, <span class="st">'01*04*2012'</span>, <span class="st">'01*05*2012'</span>, <span class="st">'01*06*2012'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\*'</span>, <span class="st">'-'</span>, <span class="va">dates</span><span class="op">)</span>
<span class="co">#&gt; [1] "01-01-2012" "01-02-2012" "01-03-2012" "01-04-2012"</span>
<span class="co">#&gt; [5] "01-05-2012" "01-06-2012"</span>
<span class="co">#&gt; [1] "01-01-2012" "01-02-2012" "01-03-2012" "01-04-2012" "01-05-2012"</span>
<span class="co">#&gt; [6] "01-06-2012"</span>

<span class="co"># matching ^</span>
<span class="va">dates</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'01^01^2012'</span>, <span class="st">'01^02^2012'</span>, <span class="st">'01^03^2012'</span>, <span class="st">'01^04^2012'</span>, <span class="st">'01^05^2012'</span>, <span class="st">'01^06^2012'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\^'</span>, <span class="st">'-'</span>, <span class="va">dates</span><span class="op">)</span>
<span class="co">#&gt; [1] "01-01-2012" "01-02-2012" "01-03-2012" "01-04-2012"</span>
<span class="co">#&gt; [5] "01-05-2012" "01-06-2012"</span>

<span class="co"># matching |</span>
<span class="va">dates</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'01|01|2012'</span>, <span class="st">'01|02|2012'</span>, <span class="st">'01|03|2012'</span>, <span class="st">'01|04|2012'</span>, <span class="st">'01|05|2012'</span>, <span class="st">'01|06|2012'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\|'</span>, <span class="st">'-'</span>, <span class="va">dates</span><span class="op">)</span>
<span class="co">#&gt; [1] "01-01-2012" "01-02-2012" "01-03-2012" "01-04-2012"</span>
<span class="co">#&gt; [5] "01-05-2012" "01-06-2012"</span>

<span class="co"># matching \</span>
<span class="va">dates</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'01\\01\\2012'</span>, <span class="st">'01\\02\\2012'</span>, <span class="st">'01\\03\\2012'</span>, 
    <span class="st">'01\\04\\2012'</span>, <span class="st">'01\\05\\2012'</span>, <span class="st">'01\\06\\2012'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\\\'</span>, <span class="st">'-'</span>, <span class="va">dates</span><span class="op">)</span>
<span class="co">#&gt; [1] "01-01-2012" "01-02-2012" "01-03-2012" "01-04-2012"</span>
<span class="co">#&gt; [5] "01-05-2012" "01-06-2012"</span>

<span class="co"># matching \\.</span>
<span class="va">dates</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'01\\.01\\.2012'</span>, <span class="st">'01\\.02\\.2012'</span>, <span class="st">'01\\.03\\.2012'</span>, 
    <span class="st">'01\\.04\\.2012'</span>, <span class="st">'01\\.05\\.2012'</span>, <span class="st">'01\\.06\\.2012'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'\\\\\\.'</span>, <span class="st">'-'</span>, <span class="va">dates</span><span class="op">)</span>
<span class="co">#&gt; [1] "01-01-2012" "01-02-2012" "01-03-2012" "01-04-2012"</span>
<span class="co">#&gt; [5] "01-05-2012" "01-06-2012"</span></code></pre></div>
<p>Alternates and ranges</p>
<p>Either or (|)</p>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># replacing either uary or ember or ober</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'uary|ember|ober'</span>, <span class="st">'-'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Jan-"   "Febr-"  "March"  "April"  "May"    "June"  </span>
<span class="co">#&gt;  [7] "July"   "August" "Sept-"  "Oct-"   "Nov-"   "Dec-"</span></code></pre></div>
<p>set of characters ([]) matches a set of characters.</p>
<p>ranges (-) matches a range of characters.</p>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># matching vowels</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[aeiou]'</span>, <span class="st">'*'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "J*n**ry"   "F*br**ry"  "M*rch"     "Apr*l"    </span>
<span class="co">#&gt;  [5] "M*y"       "J*n*"      "J*ly"      "A*g*st"   </span>
<span class="co">#&gt;  [9] "S*pt*mb*r" "Oct*b*r"   "N*v*mb*r"  "D*c*mb*r"</span>

<span class="co"># matching lower cases</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[a-z]'</span>, <span class="st">'*'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "J******"   "F*******"  "M****"     "A****"    </span>
<span class="co">#&gt;  [5] "M**"       "J***"      "J***"      "A*****"   </span>
<span class="co">#&gt;  [9] "S********" "O******"   "N*******"  "D*******"</span>

<span class="co"># matching upper cases</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[A-Z]'</span>, <span class="st">'*'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "*anuary"   "*ebruary"  "*arch"     "*pril"    </span>
<span class="co">#&gt;  [5] "*ay"       "*une"      "*uly"      "*ugust"   </span>
<span class="co">#&gt;  [9] "*eptember" "*ctober"   "*ovember"  "*ecember"</span>

<span class="co"># matching the letters m to z</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[m-z]'</span>, <span class="st">'*'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Ja**a**"   "Feb**a**"  "Ma*ch"     "A**il"    </span>
<span class="co">#&gt;  [5] "Ma*"       "J**e"      "J*l*"      "A*g***"   </span>
<span class="co">#&gt;  [9] "Se**e*be*" "Oc**be*"   "N**e*be*"  "Dece*be*"</span>

<span class="co"># matching the numbers 0 to 9</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[0-9]'</span>, <span class="st">'*'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'1a8g9u93l48p51359p78'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "*a*g*u**l**p*****p**"</span>

<span class="co"># matching the numbers 1 to 5</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[1-5]'</span>, <span class="st">'*'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'1a8g9u93l48p51359p78'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "*a8g9u9*l*8p****9p78"</span>

<span class="co"># matching alphanumeric</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[a-zA-Z0-9]'</span>, <span class="st">'*'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'1a8#g9u/93l48p51*395(9p78'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "***#***/************(****"</span></code></pre></div>
<p>Not [^abc]</p>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># matching everything but vowels</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[^aeiou]'</span>, <span class="st">'*'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "*a*ua**"   "*e**ua**"  "*a***"     "***i*"    </span>
<span class="co">#&gt;  [5] "*a*"       "*u*e"      "*u**"      "*u*u**"   </span>
<span class="co">#&gt;  [9] "*e**e**e*" "***o*e*"   "*o*e**e*"  "*e*e**e*"</span>

<span class="co"># matching everything but lowercase letters</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'[^a-z]'</span>, <span class="st">'*'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "*anuary"   "*ebruary"  "*arch"     "*pril"    </span>
<span class="co">#&gt;  [5] "*ay"       "*une"      "*uly"      "*ugust"   </span>
<span class="co">#&gt;  [9] "*eptember" "*ctober"   "*ovember"  "*ecember"</span></code></pre></div>
<p>Anchors</p>
<ul>
<li>^ matches a pattern at the start of a string.
/ $ matches a pattern at the end of a string.</li>
</ul>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># start of a string</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'^J'</span>, <span class="st">'j'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "january"   "February"  "March"     "April"    </span>
<span class="co">#&gt;  [5] "May"       "june"      "july"      "August"   </span>
<span class="co">#&gt;  [9] "September" "October"   "November"  "December"</span>

<span class="co"># end of a string</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">'ber$'</span>, <span class="st">'ba'</span>, <span class="va">month.name</span><span class="op">)</span>
<span class="co">#&gt;  [1] "January"  "February" "March"    "April"    "May"     </span>
<span class="co">#&gt;  [6] "June"     "July"     "August"   "Septemba" "Octoba"  </span>
<span class="co">#&gt; [11] "Novemba"  "Decemba"</span></code></pre></div>
<p>Quantifiers</p>
<ul>
<li><ul>
<li>matches a pattern 0 or more times</li>
</ul></li>
<li><ul>
<li>matches a pattern 1 or more times</li>
</ul></li>
<li>? matches a pattern 0 or one time</li>
<li>x{m} matches x exactly m times</li>
<li>x{m,} matches x exactly m or more times</li>
<li>x{m,n} matches x exactly m or n times</li>
</ul>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># match 's' zero or one time</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'s?'</span>, <span class="va">month.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "January"   "February"  "March"     "April"    </span>
<span class="co">#&gt;  [5] "May"       "June"      "July"      "August"   </span>
<span class="co">#&gt;  [9] "September" "October"   "November"  "December"</span>

<span class="co"># match 'J' one or more times</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'J+'</span>, <span class="va">month.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] "January" "June"    "July"</span>

<span class="co"># match 'e' one or more times</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'e+'</span>, <span class="va">state.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Connecticut"   "Delaware"      "Georgia"      </span>
<span class="co">#&gt;  [4] "Kentucky"      "Maine"         "Massachusetts"</span>
<span class="co">#&gt;  [7] "Minnesota"     "Nebraska"      "Nevada"       </span>
<span class="co">#&gt; [10] "New Hampshire" "New Jersey"    "New Mexico"   </span>
<span class="co">#&gt; [13] "New York"      "Oregon"        "Pennsylvania" </span>
<span class="co">#&gt; [16] "Rhode Island"  "Tennessee"     "Texas"        </span>
<span class="co">#&gt; [19] "Vermont"       "West Virginia"</span>

<span class="co"># matched 'y', zero or more times</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'y*'</span>, <span class="va">month.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "January"   "February"  "March"     "April"    </span>
<span class="co">#&gt;  [5] "May"       "June"      "July"      "August"   </span>
<span class="co">#&gt;  [9] "September" "October"   "November"  "December"</span>

<span class="co"># matched 'a', zero or more times</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'a*'</span>, <span class="va">month.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "January"   "February"  "March"     "April"    </span>
<span class="co">#&gt;  [5] "May"       "June"      "July"      "August"   </span>
<span class="co">#&gt;  [9] "September" "October"   "November"  "December"</span>

<span class="co"># match 'a' zero or more times and 'y'</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'a*y'</span>, <span class="va">month.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] "January"  "February" "May"      "July"</span>

<span class="co"># match 'y' zero or more times and 'a'</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">'y*a'</span>, <span class="va">month.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] "January"  "February" "March"    "May"</span>

<span class="co"># match 's', exactly 2 times</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"s{2}"</span>, <span class="va">state.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] "Massachusetts" "Mississippi"   "Missouri"     </span>
<span class="co">#&gt; [4] "Tennessee"</span>

<span class="co"># match 's', exactly 1 or more times</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"s{1,}"</span>, <span class="va">state.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Alaska"        "Arkansas"      "Illinois"     </span>
<span class="co">#&gt;  [4] "Kansas"        "Louisiana"     "Massachusetts"</span>
<span class="co">#&gt;  [7] "Minnesota"     "Mississippi"   "Missouri"     </span>
<span class="co">#&gt; [10] "Nebraska"      "New Hampshire" "New Jersey"   </span>
<span class="co">#&gt; [13] "Pennsylvania"  "Rhode Island"  "Tennessee"    </span>
<span class="co">#&gt; [16] "Texas"         "Washington"    "West Virginia"</span>
<span class="co">#&gt; [19] "Wisconsin"</span>

<span class="co"># match 's', exactly 1 or 2 times</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"s{1,2}"</span>, <span class="va">state.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Alaska"        "Arkansas"      "Illinois"     </span>
<span class="co">#&gt;  [4] "Kansas"        "Louisiana"     "Massachusetts"</span>
<span class="co">#&gt;  [7] "Minnesota"     "Mississippi"   "Missouri"     </span>
<span class="co">#&gt; [10] "Nebraska"      "New Hampshire" "New Jersey"   </span>
<span class="co">#&gt; [13] "Pennsylvania"  "Rhode Island"  "Tennessee"    </span>
<span class="co">#&gt; [16] "Texas"         "Washington"    "West Virginia"</span>
<span class="co">#&gt; [19] "Wisconsin"</span></code></pre></div>
<p>Groups</p>
<p>() matches group patterns.</p>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># match 2 repeating 's' followed by an 'e'</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">'(s{2})e'</span>, <span class="va">state.name</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] "Tennessee"</span></code></pre></div>

</div>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="rmarkdown.html"><span class="header-section-number">3</span> RMarkdown</a></div>
<div class="next"><a href="tidyverse-r.html"><span class="header-section-number">5</span> Tidyverse R</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#advanced-data-manipulation"><span class="header-section-number">4</span> Advanced data manipulation</a></li>
<li>
<a class="nav-link" href="#br-import"><span class="header-section-number">4.1</span> Importing data</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#import-files-directly-from-the-web"><span class="header-section-number">4.1.1</span> Import files directly from the web</a></li></ul>
</li>
<li><a class="nav-link" href="#br-export"><span class="header-section-number">4.2</span> Exporting data</a></li>
<li><a class="nav-link" href="#br-inspect"><span class="header-section-number">4.3</span> Inspecting a data frame</a></li>
<li>
<a class="nav-link" href="#manipulating-columns"><span class="header-section-number">4.4</span> Manipulating Columns</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#changing-column-type"><span class="header-section-number">4.4.1</span> Changing column type</a></li>
<li><a class="nav-link" href="#br-col-names"><span class="header-section-number">4.4.2</span> Renaming columns</a></li>
<li><a class="nav-link" href="#br-changing"><span class="header-section-number">4.4.3</span> Insert and derive new columns</a></li>
<li><a class="nav-link" href="#sorting-and-ranking"><span class="header-section-number">4.4.4</span> Sorting and ranking</a></li>
<li><a class="nav-link" href="#splitting-and-merging-columns"><span class="header-section-number">4.4.5</span> Splitting and Merging columns</a></li>
</ul>
</li>
<li><a class="nav-link" href="#br-filter-cols"><span class="header-section-number">4.5</span> Selecting columns</a></li>
<li><a class="nav-link" href="#deleting-columns"><span class="header-section-number">4.6</span> Deleting columns</a></li>
<li>
<a class="nav-link" href="#manipulating-rows"><span class="header-section-number">4.7</span> Manipulating Rows</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#br-row-names"><span class="header-section-number">4.7.1</span> Renaming rows</a></li>
<li><a class="nav-link" href="#adding-rows"><span class="header-section-number">4.7.2</span> Adding rows</a></li>
<li><a class="nav-link" href="#updating-rows-of-data"><span class="header-section-number">4.7.3</span> Updating rows of data</a></li>
<li><a class="nav-link" href="#updating-a-single-value"><span class="header-section-number">4.7.4</span> Updating a single value</a></li>
<li><a class="nav-link" href="#randomly-selecting-rows"><span class="header-section-number">4.7.5</span> Randomly selecting rows</a></li>
<li><a class="nav-link" href="#br-filter-rows"><span class="header-section-number">4.7.6</span> Filtering rows</a></li>
<li><a class="nav-link" href="#deleting-rows"><span class="header-section-number">4.7.7</span> Deleting rows</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#br-joins"><span class="header-section-number">4.8</span> SQL like joins</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#inner-join"><span class="header-section-number">4.8.1</span> Inner join</a></li>
<li><a class="nav-link" href="#left-join"><span class="header-section-number">4.8.2</span> Left join</a></li>
<li><a class="nav-link" href="#right-join"><span class="header-section-number">4.8.3</span> Right join</a></li>
<li><a class="nav-link" href="#full-outer-join"><span class="header-section-number">4.8.4</span> Full outer join</a></li>
<li><a class="nav-link" href="#joining-data-frames-with-different-column-names"><span class="header-section-number">4.8.5</span> Joining data frames with different column names</a></li>
<li><a class="nav-link" href="#joining-data-frames-on-one-more-than-one-joining-column"><span class="header-section-number">4.8.6</span> Joining data frames on one more than one joining column</a></li>
</ul>
</li>
<li><a class="nav-link" href="#br-summary"><span class="header-section-number">4.9</span> Aggregating and grouping data</a></li>
<li>
<a class="nav-link" href="#br-reshape"><span class="header-section-number">4.10</span> Pivoting and unpivoting data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#pivoting"><span class="header-section-number">4.10.1</span> Pivoting</a></li>
<li><a class="nav-link" href="#unpivoting"><span class="header-section-number">4.10.2</span> Unpivoting</a></li>
</ul>
</li>
<li><a class="nav-link" href="#detecting-and-dealing-with-missing-values"><span class="header-section-number">4.11</span> Detecting and dealing with missing values</a></li>
<li>
<a class="nav-link" href="#detecting-and-dealing-with-outliers"><span class="header-section-number">4.12</span> Detecting and dealing with outliers</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-is-an-outlier"><span class="header-section-number">4.12.1</span> What is an outlier?</a></li>
<li><a class="nav-link" href="#identifying-outlier"><span class="header-section-number">4.12.2</span> Identifying outlier</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#dealing-with-duplicate-values"><span class="header-section-number">4.13</span> Dealing with duplicate values</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#determining-duplicate-values"><span class="header-section-number">4.13.1</span> Determining duplicate values</a></li>
<li><a class="nav-link" href="#get-unique-values"><span class="header-section-number">4.13.2</span> Get unique values</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#br-factor"><span class="header-section-number">4.14</span> Factors in Base R</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-are-factors"><span class="header-section-number">4.14.1</span> What are factors?</a></li>
<li><a class="nav-link" href="#creating-a-factor"><span class="header-section-number">4.14.2</span> Creating a factor</a></li>
<li><a class="nav-link" href="#factor-attributes-and-structure"><span class="header-section-number">4.14.3</span> Factor attributes and structure</a></li>
<li><a class="nav-link" href="#rearranging-levels"><span class="header-section-number">4.14.4</span> Rearranging levels</a></li>
<li><a class="nav-link" href="#dropping-levels"><span class="header-section-number">4.14.5</span> Dropping levels</a></li>
<li><a class="nav-link" href="#changing-labels"><span class="header-section-number">4.14.6</span> Changing labels</a></li>
<li><a class="nav-link" href="#ordered-factors"><span class="header-section-number">4.14.7</span> Ordered factors</a></li>
<li><a class="nav-link" href="#converting-from-character-to-factor"><span class="header-section-number">4.14.8</span> Converting from character to factor</a></li>
<li><a class="nav-link" href="#converting-from-factor-to-character"><span class="header-section-number">4.14.9</span> Converting from factor to character</a></li>
<li><a class="nav-link" href="#converting-from-numeric-to-factor"><span class="header-section-number">4.14.10</span> Converting from numeric to factor</a></li>
<li><a class="nav-link" href="#converting-from-factor-to-numeric"><span class="header-section-number">4.14.11</span> Converting from factor to numeric</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#br-string"><span class="header-section-number">4.15</span> String manipulation with base R</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#string-length-and-character-count"><span class="header-section-number">4.15.1</span> String length and character count</a></li>
<li><a class="nav-link" href="#strings-formatting-case-folding"><span class="header-section-number">4.15.2</span> Strings formatting (case-folding)</a></li>
<li><a class="nav-link" href="#join-and-split-strings"><span class="header-section-number">4.15.3</span> Join and Split strings</a></li>
<li><a class="nav-link" href="#extract-and-replace-part-of-strings"><span class="header-section-number">4.15.4</span> Extract and Replace part of strings</a></li>
<li><a class="nav-link" href="#pattern-matching-using-regular-expression"><span class="header-section-number">4.15.5</span> Pattern matching using regular expression</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/abarik/advancedr_2021_22_1/blob/master/03-datamanipulation.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/abarik/advancedr_2021_22_1/edit/master/03-datamanipulation.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Advanced R</strong>" was written by Kálmán Abari. It was last built on 2021-10-22.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
